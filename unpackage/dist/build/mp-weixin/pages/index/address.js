(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/address"],{"3ba7":function(e,t,s){},"5d91":function(e,t,s){"use strict";var n=s("3ba7"),a=s.n(n);a.a},a425:function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"c",(function(){return r})),s.d(t,"a",(function(){return n}));var n={uniSearchBar:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar")]).then(s.bind(null,"64e0"))},uniIcons:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(s.bind(null,"beec"))},addressRecursion:function(){return s.e("uni_modules/address-recursion/components/address-recursion/address-recursion").then(s.bind(null,"7937"))},uniLoadMore:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more")]).then(s.bind(null,"db88"))}},a=function(){var e=this.$createElement,t=(this._self._c,["push","mall"].includes(this.type)),s=t||void 0==this.addressNow||""==this.addressNow?null:this.addressNow.substring(0,9),n=t||void 0==this.addressNow?null:this.addressNow.length;this.$mp.data=Object.assign({},{$root:{g0:t,g1:s,g2:n}})},r=[]},a9c5:function(e,t,s){"use strict";(function(e,t){var n=s("4ea4");s("f290");n(s("66fd"));var a=n(s("b275"));e.__webpack_require_UNI_MP_PLUGIN__=s,t(a.default)}).call(this,s("bc2e")["default"],s("543d")["createPage"])},b275:function(e,t,s){"use strict";s.r(t);var n=s("a425"),a=s("d77f");for(var r in a)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return a[e]}))}(r);s("5d91");var d=s("f0c5"),i=Object(d["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=i.exports},d77f:function(e,t,s){"use strict";s.r(t);var n=s("d9dc"),a=s.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},d9dc:function(e,t,s){"use strict";(function(e){var n=s("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(s("2eee")),r=n(s("c973")),d={data:function(){return{type:0,isLoading:"loading",searchValue:"",addressNow:"",tempSelectedAddress:{title:"",status:0,code:""},tempAddressData:[],addressData:[{title:"浙江省",status:1,code:"110000",children:[{title:"杭州市",status:1,code:"110100",children:[]},{title:"宁波市",status:1,code:"110200",children:[]},{title:"温州市",status:1,code:"110300",children:[]},{title:"绍兴市娃娃大碗大碗大碗大碗大碗大碗的有很多",status:1,code:"110400",children:[]}]},{title:"江苏省",status:1,code:"210000",children:[{title:"苏州市",status:1,code:"210100",children:[]},{title:"南京市",status:1,code:"210200",children:[]},{title:"无锡市",status:1,code:"210300",children:[]},{title:"南通市",status:1,code:"210400",children:[]}]}]}},onLoad:function(e){this.type=e.type,this.getStore_addressNow(),this.getAreaTree()},onShow:function(){},onPullDownRefresh:function(){var t=this;this.searchValue="",t.addressData=[],(0,r.default)(a.default.mark((function s(){return a.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.getAreaTree();case 2:e.stopPullDownRefresh();case 3:case"end":return s.stop()}}),s)})))()},methods:{setStorageSync:function(t,s){try{e.setStorageSync(t,s)}catch(n){e.showToast({title:n,duration:2500,icon:"none"})}},getStorageSync:function(t){try{var s=e.getStorageSync(t);return s}catch(n){e.showToast({title:n,duration:2500,icon:"none"})}},getStore_addressNow:function(){this.addressNow=this.$store.state.store_addressNow.title},selectingAddress:function(e){"mall"==this.type&&"省"==e[1]||(this.tempSelectedAddress=e[0])},confirmAddress:function(){""!=this.tempSelectedAddress.title?"index"==this.type?(this.$store.commit("changeStore_addressNow",{tempSelectedAddress:this.tempSelectedAddress}),this.setStorageSync("storage_addressNow",this.tempSelectedAddress),this.addressNow!=this.tempSelectedAddress.title&&e.$emit("changeIndexArea",this.tempSelectedAddress),e.navigateBack()):"register"==this.type?(this.$store.commit("changeStore_addressRegister",{tempSelectedAddress:this.tempSelectedAddress}),e.navigateTo({url:"/pages/index/school?type=register"})):"mall"==this.type?(e.$emit("changeArea",this.tempSelectedAddress),e.navigateBack({delta:1,success:function(){}})):(this.$store.commit("changeStore_addressPush",{tempSelectedAddress:this.tempSelectedAddress}),e.$emit("changePushArea",this.tempSelectedAddress),e.navigateBack()):e.showToast({title:"选择一个地区吧~",duration:2500,icon:"none"})},toInput:function(){if(""!=this.searchValue);else{this.tempAddressData=[];for(var e=0;e<this.addressData.length;e++)this.tempAddressData.push(this.addressData[e])}},getAreaTree:function(){var t=this;return new Promise((function(s,n){var d=t;e.request({url:d.$store.state.theUrl+"/wechat/sundry/getAreaTree",method:"POST",header:{token:d.$store.state.theToken},data:{status:1},success:function(t){var n=d;if(0==t.data.code){n.addressData=[],n.tempAddressData=[];for(var i=0;i<t.data.data.length;i++)n.addressData.push(t.data.data[i]),n.tempAddressData.push(t.data.data[i]);n.isLoading="no-more"}else if(500==t.data.code)e.showToast({title:"服务器连接失败，请反馈官方客服哦~",duration:2500,icon:"none"});else if(410==t.data.code){var o=n;(0,r.default)(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.$store.dispatch("toLogon",{});case 2:o.getAreaTree();case 3:case"end":return e.stop()}}),e)})))()}else e.showToast({title:t.data.msg,duration:2500,icon:"none"});s()},fail:function(t){e.showToast({title:"网络失败，请重试！多次无效后，反馈官方客服哦！",duration:2500,icon:"none"}),s()}})}))}}};t.default=d}).call(this,s("543d")["default"])}},[["a9c5","common/runtime","common/vendor"]]]);