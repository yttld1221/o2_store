require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["page_product/pages/search/index"],{"1fb7":function(e,t,o){"use strict";var n=o("351d"),c=o.n(n);c.a},"351d":function(e,t,o){},"3b0a":function(e,t,o){"use strict";o.d(t,"b",(function(){return c})),o.d(t,"c",(function(){return r})),o.d(t,"a",(function(){return n}));var n={uSearch:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-search/u-search")]).then(o.bind(null,"4f1c"))},uIcon:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(o.bind(null,"7e9b"))},uModal:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-modal/u-modal")]).then(o.bind(null,"2474"))}},c=function(){var e=this.$createElement,t=(this._self._c,this.searchRecord.length),o=this.hotList.length;this.$mp.data=Object.assign({},{$root:{g0:t,g1:o}})},r=[]},"8e52":function(e,t,o){"use strict";(function(e){var n=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(o("2eee")),r=n(o("c973")),s={components:{},data:function(){return{show:!1,searchText:"",hotList:[],searchRecord:[],shopId:"",from:""}},onLoad:function(e){e.shopId&&(this.shopId=e.shopId),e.from&&(this.from=e.from)},onShow:function(){this.shopId||this.from||this.getHot(),this.getSearchRecord(),this.searchText=""},methods:{confirmDel:function(){var t=this.shopId?"searchShopRecord":this.from?"searchPushRecord":"searchRecord";e.removeStorageSync(t),this.getSearchRecord(),this.cancelDel()},cancelDel:function(){this.show=!1},delRecord:function(){this.show=!0},getHot:function(){var e=this;this.API.home.getHotWord({}).then((function(t){console.log(t),e.hotList=t.data})).catch(function(){var t=(0,r.default)(c.default.mark((function t(o){return c.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(410!=o.code){t.next=4;break}return t.next=3,e.$store.dispatch("toLogon",{});case 3:e.getHot();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},searchVal:function(t){if(t){var o="/page_product/pages/search/searchResult?text="+t;this.shopId?o+="&shopId="+this.shopId:this.from&&(o+="&from="+this.from),e.navigateTo({url:o})}},cancel:function(){e.navigateBack()},getSearchRecord:function(){var t="searchRecord";if(this.shopId?t="searchShopRecord":this.from&&(t="searchPushRecord"),this.searchRecord=e.getStorageSync(t)?JSON.parse(e.getStorageSync(t)):[]||!1,this.searchRecord.length>0)for(var o in this.searchRecord)o>9&&this.searchRecord.splice(o,1);console.log(this.searchRecord)}}};t.default=s}).call(this,o("543d")["default"])},ef30:function(e,t,o){"use strict";(function(e,t){var n=o("4ea4");o("f290"),o("5c17");n(o("66fd"));var c=n(o("f449"));e.__webpack_require_UNI_MP_PLUGIN__=o,t(c.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},f449:function(e,t,o){"use strict";o.r(t);var n=o("3b0a"),c=o("f676");for(var r in c)["default"].indexOf(r)<0&&function(e){o.d(t,e,(function(){return c[e]}))}(r);o("1fb7");var s=o("f0c5"),a=Object(s["a"])(c["default"],n["b"],n["c"],!1,null,"cf77e3bc",null,!1,n["a"],void 0);t["default"]=a.exports},f676:function(e,t,o){"use strict";o.r(t);var n=o("8e52"),c=o.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(r);t["default"]=c.a}},[["ef30","common/runtime","common/vendor"]]]);