require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["page_product/pages/fans/index"],{1183:function(e,t,n){"use strict";(function(e,t){var a=n("4ea4");n("f290");a(n("66fd"));var o=a(n("9648"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"283d":function(e,t,n){"use strict";var a=n("54fa"),o=n.n(a);o.a},"54fa":function(e,t,n){},"7e75":function(e,t,n){"use strict";(function(e){var a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("2eee")),r=a(n("c973")),i={components:{},data:function(){return{contentText:{contentdown:"查看更多",contentrefresh:"加载中...",contentnomore:"到底了，可点击此处手动加载~"},isLoading:"loading",theGetListPage:1,theGetListPagesize:10,list:[],otherId:""}},onLoad:function(t){t.userId&&(this.otherId=t.userId,e.setNavigationBarTitle({title:t.name})),this.getFans()},onPullDownRefresh:function(){var t=this;this.theGetListPage=1,this.list=[],(0,r.default)(o.default.mark((function n(){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.getFans();case 2:e.stopPullDownRefresh();case 3:case"end":return n.stop()}}),n)})))()},onReachBottom:function(){this.getFans()},methods:{topPerSonalhome:function(t){e.navigateTo({url:"/pages/follow/personalhome?id="+t})},regardHandle:function(t,n){var a=this;t.id!=this.$store.state.theLogonUser.id?this.API.order.regard({to_user_id:t.id}).then((function(e){console.log(e.data),a.$set(a.list[n],"is_regard",1==t.is_regard?2:1)})).catch(function(){var e=(0,r.default)(o.default.mark((function e(t){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(410!=t.code){e.next=4;break}return e.next=3,a.$store.dispatch("toLogon",{});case 3:a.regardHandle();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):e.showToast({title:"不能关注自己",duration:1e3,icon:"none"})},getFans:function(){var e=this;this.isLoading="loading";var t={page:this.theGetListPage,pagesize:this.theGetListPagesize,type:"粉丝",user_id:this.otherId};this.otherId||delete t.user_id,this.API.user.getMyPerson(t).then((function(t){if(console.log(t),1==e.theGetListPage&&(e.list=[]),0!=t.data.length){for(var n=0;n<t.data.length;n++)e.list.push(t.data[n]);e.isLoading="no-more",e.theGetListPage+=1}else e.isLoading="no-more"})).catch(function(){var t=(0,r.default)(o.default.mark((function t(n){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(410!=n.code){t.next=4;break}return t.next=3,e.$store.dispatch("toLogon",{});case 3:e.getFans();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}};t.default=i}).call(this,n("543d")["default"])},9648:function(e,t,n){"use strict";n.r(t);var a=n("ccb6"),o=n("e13f");for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("283d");var i=n("f0c5"),s=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,"12df224a",null,!1,a["a"],void 0);t["default"]=s.exports},ccb6:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var a={uniLoadMore:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more")]).then(n.bind(null,"db88"))}},o=function(){var e=this.$createElement;this._self._c},r=[]},e13f:function(e,t,n){"use strict";n.r(t);var a=n("7e75"),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a}},[["1183","common/runtime","common/vendor"]]]);