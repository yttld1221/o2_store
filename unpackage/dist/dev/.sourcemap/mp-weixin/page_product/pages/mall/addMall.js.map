{"version":3,"sources":["uni-app:///main.js","webpack:///D:/ouying/o2_store/page_product/pages/mall/addMall.vue?237f","webpack:///D:/ouying/o2_store/page_product/pages/mall/addMall.vue?d753","webpack:///D:/ouying/o2_store/page_product/pages/mall/addMall.vue?47cf","webpack:///D:/ouying/o2_store/page_product/pages/mall/addMall.vue?fd20","uni-app:///page_product/pages/mall/addMall.vue","webpack:///D:/ouying/o2_store/page_product/pages/mall/addMall.vue?4c57","webpack:///D:/ouying/o2_store/page_product/pages/mall/addMall.vue?c169"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","data","tips","seconds","addressArr","ruleForm","person","phone","check_code","merchant","area_code","apply_id_card1","apply_id_card2","business_license","remark","area_text","id","onLoad","uni","console","methods","getAddText","el","getDetail","getMyApplyShopInfo","then","catch","err","codeChange","getCode","title","icon","tag","postCode","type","sendSmsCheckCode","delFile","addSubmit","duration","applyShop","delta","success","prewFile","current","urls","getArea","addressList","value","label","children","chooseArea","url","chooseMedia","count","mediaType","sourceType","tempFiles","getOssUploadSign","file","res","fileTypes","filePath","formData","key","policy","OssAccessKeyId","success_action_status","signature","name","types","fail"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACsC;;;AAG5F;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAAmnB,CAAgB,inBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACmJvoB;AAAA;AAAA;AAAA,eACA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;EACAC;IAAA;IACA;IACA;MACA;MACA;IACA;IACAC;MACAC;MACA;MACAA;MACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAC;UACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA,eACAC,uBACAC;QAAA;UAAA;YAAA;cAAA;gBAAA;kBACAN;kBACA;oBAAAX;kBAAA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA,KACAkB;QAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,MACAC;oBAAA;oBAAA;kBAAA;kBAAA;kBAAA,OACA;gBAAA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CAEA;QAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACAX;kBACAY;kBACAC;gBACA;gBAAA;cAAA;gBAGAC;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACAd;kBACAY;kBACAC;gBACA;gBAAA;cAAA;gBAAA,KAGA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OAEA;cAAA;gBACA;gBACA;gBAAA;gBAAA;cAAA;gBAEAb;kBACAY;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAE;MAAA;MACA;QACA1B;QACA2B;MACA;MACA,eACAC,wBACAV;QACAP;UACAY;UACAC;QACA;MACA,GACAL;QAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,MACAC;oBAAA;oBAAA;kBAAA;kBAAA;kBAAA,OACA;gBAAA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CAEA;QAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAS;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA/B;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACA;QACA;UACAmB;UACAd;YACAY;YACAQ;YACAP;UACA;UACA;QACA;MACA;MACA;QACA,8BACA,cACA;QACA;UACA;QACA;QACA,eACAQ,iBACAd;UAAA;YAAA;cAAA;gBAAA;kBAAA;oBAAA;oBAAA,OACA;kBAAA;oBACAP;sBACAsB;sBACAC;wBACAvB;0BACAY;0BACAC;wBACA;sBACA;oBACA;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CACA;UAAA;YAAA;UAAA;QAAA,KACAL;UAAA;YAAA;cAAA;gBAAA;kBAAA;oBAAA,MACAC;sBAAA;sBAAA;oBAAA;oBAAA;oBAAA,OACA;kBAAA;oBACA;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CAEA;UAAA;YAAA;UAAA;QAAA;MACA;IACA;IACA;IACAe;MACAxB;QACAyB;QAAA;QACAC;MACA;IACA;IACAC;MAAA;MACA;MACAC;QACA;UACAC;UACAC;UACAC;YACA;cACAF;cACAC;YACA;UACA;QACA;MACA;IACA;IACAE;MACAhC;QACAiC;MACA;IACA;IACAC;MAAA;MACAlC;QACAmC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAd;UACA;UACA;UACAtB;UACA;UACAqC;YACA,iBACAC;cACAvB;YACA,GACAT;cACAN;cACA,4CACAuC,uCACA;cACA,oBACAC,qBACA,oDACA,iDACAC;cACAzC;cACAD;gBACAiC;gBACAU;gBACAC;kBACAC;kBACAC;kBACAC;kBACAC;kBACAC;gBACA;gBACAC;gBAAA;gBACA3B;kBACAtB;kBACA;oBACA,YACA,iBACAkD,iBACAV,gCACA;kBACA;gBACA;gBACAW;kBACAnD;gBACA;cACA;YACA,GACAO;cAAA;gBAAA;kBAAA;oBAAA;sBAAA;wBAAA,MACAC;0BAAA;0BAAA;wBAAA;wBAAA;wBAAA,OACA;sBAAA;wBACAT;0BACAY;0BACAQ;0BACAP;wBACA;sBAAA;sBAAA;wBAAA;oBAAA;kBAAA;gBAAA;cAAA,CAEA;cAAA;gBAAA;cAAA;YAAA;UACA;QACA;QACAuC;UACAnD;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC9ZA;AAAA;AAAA;AAAA;AAAksC,CAAgB,wnCAAG,EAAC,C;;;;;;;;;;;ACAttC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"page_product/pages/mall/addMall.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './page_product/pages/mall/addMall.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addMall.vue?vue&type=template&id=60437212&scoped=true&\"\nvar renderjs\nimport script from \"./addMall.vue?vue&type=script&lang=js&\"\nexport * from \"./addMall.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addMall.vue?vue&type=style&index=0&id=60437212&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60437212\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"page_product/pages/mall/addMall.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addMall.vue?vue&type=template&id=60437212&scoped=true&\"","var components\ntry {\n  components = {\n    \"u-Input\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--input/u--input\" */ \"@/uni_modules/uview-ui/components/u--input/u--input.vue\"\n      )\n    },\n    uCode: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-code/u-code\" */ \"@/uni_modules/uview-ui/components/u-code/u-code.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    \"u-Textarea\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--textarea/u--textarea\" */ \"@/uni_modules/uview-ui/components/u--textarea/u--textarea.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addMall.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addMall.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"add-mall\">\n    <view class=\"info-box\">\n      <view class=\"info-name\">\n        <view class=\"left-label\">姓名：</view>\n        <u--input\n          placeholder=\"请输入名字\"\n          v-model=\"ruleForm.person\"\n          border=\"none\"\n        ></u--input>\n      </view>\n      <view class=\"info-phone\">\n        <view class=\"left-label\">手机号：</view>\n        <view class=\"code-box flex-algin\">\n          <u--input\n            placeholder=\"请输入您的手机号码\"\n            v-model=\"ruleForm.phone\"\n            border=\"none\"\n          ></u--input>\n          <u-code\n            changeText=\"X秒\"\n            :seconds=\"seconds\"\n            ref=\"uCode\"\n            @change=\"codeChange\"\n          ></u-code>\n          <u-button color=\"#ff812f\" type=\"primary\" @tap=\"getCode\">{{\n            tips\n          }}</u-button>\n        </view>\n      </view>\n      <view class=\"info-merchant\">\n        <view class=\"left-label\">短信验证码：</view>\n        <u--input\n          placeholder=\"请输入短信验证码\"\n          v-model=\"ruleForm.check_code\"\n          border=\"none\"\n        ></u--input>\n      </view>\n      <view class=\"info-merchant\">\n        <view class=\"left-label\">工作室/企业名称：</view>\n        <u--input\n          placeholder=\"请输入工作室名称\"\n          v-model=\"ruleForm.merchant\"\n          border=\"none\"\n        ></u--input>\n      </view>\n      <view class=\"info-area\">\n        <view class=\"left-label\">申请开放区域：</view>\n        <view class=\"flex-algin\" @click=\"chooseArea()\">\n          <u--input\n            disabled\n            disabledColor=\"#ffffff\"\n            placeholder=\"请选择开放区域\"\n            v-model=\"ruleForm.area_text\"\n            border=\"none\"\n          ></u--input>\n          <u-icon slot=\"right\" name=\"arrow-right\"></u-icon>\n        </view>\n      </view>\n    </view>\n    <view class=\"card-box\">\n      <view class=\"card-title flex-algin\">\n        <view class=\"shu\"></view>\n        <text>店铺身份证信息</text>\n      </view>\n      <view class=\"card-tip\"\n        >请拍照、上传高清图，需清晰、完整、无遮挡，确保图片内容清晰可识别</view\n      >\n      <view class=\"card-container flex-algin\">\n        <view class=\"card-img\">\n          <view class=\"img-del\" v-if=\"ruleForm.apply_id_card1\">\n            <view class=\"del-icon\" @click=\"delFile('apply_id_card1')\">\n              <u-icon name=\"close\" color=\"#FFFFFF\" size=\"16\"></u-icon>\n            </view>\n            <image\n              @click=\"prewFile(ruleForm.apply_id_card1)\"\n              :src=\"ruleForm.apply_id_card1\"\n            ></image>\n          </view>\n          <image\n            @click=\"chooseMedia('apply_id_card1')\"\n            v-else\n            src=\"https://schoolwx.oss-cn-hangzhou.aliyuncs.com/school/img/v2/20240523/2024-05-23_17_16_23_refund_0_22.png\"\n          ></image>\n          <text>请上传头像面</text>\n        </view>\n        <view class=\"card-img\">\n          <view class=\"img-del\" v-if=\"ruleForm.apply_id_card2\">\n            <view class=\"del-icon\" @click=\"delFile('apply_id_card2')\">\n              <u-icon name=\"close\" color=\"#FFFFFF\" size=\"16\"></u-icon>\n            </view>\n            <image\n              @click=\"prewFile(ruleForm.apply_id_card2)\"\n              :src=\"ruleForm.apply_id_card2\"\n            ></image>\n          </view>\n          <image\n            @click=\"chooseMedia('apply_id_card2')\"\n            v-else\n            src=\"https://schoolwx.oss-cn-hangzhou.aliyuncs.com/school/img/v2/20240523/2024-05-23_17_16_17_refund_0_22.png\"\n          ></image>\n\n          <text>请上传国徽面</text>\n        </view>\n      </view>\n      <view class=\"card-container flex-algin license-container\">\n        <view class=\"card-img\">\n          <view class=\"img-del\" v-if=\"ruleForm.business_license\">\n            <view class=\"del-icon\" @click=\"delFile('business_license')\">\n              <u-icon name=\"close\" color=\"#FFFFFF\" size=\"16\"></u-icon>\n            </view>\n            <image\n              @click=\"prewFile(ruleForm.business_license)\"\n              :src=\"ruleForm.business_license\"\n            ></image>\n          </view>\n          <image\n            @click=\"chooseMedia('business_license')\"\n            v-else\n            src=\"https://schoolwx.oss-cn-hangzhou.aliyuncs.com/school/img/v2/20240523/2024-05-23_17_16_28_refund_0_22.png\"\n          ></image>\n          <text>请上传营业执照</text>\n        </view>\n      </view>\n    </view>\n    <view class=\"remark-box\">\n      <u--textarea\n        autoHeight\n        count\n        maxlength=\"200\"\n        border=\"none\"\n        placeholderStyle=\"color:#969696\"\n        v-model=\"ruleForm.remark\"\n        placeholder=\"请填写申请说明...\"\n      >\n      </u--textarea>\n    </view>\n    <view class=\"safe-bottom\"></view>\n    <view class=\"fix-bottom-box\">\n      <view class=\"fix-bottom\">\n        <view class=\"pay-btn\" @click=\"addSubmit()\">立即申请</view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { addressList } from \"../../components/piaoyi-cityPicker/cityData\";\nexport default {\n  components: {},\n  data() {\n    return {\n      tips: \"\",\n      seconds: 60,\n      addressArr: [],\n      ruleForm: {\n        person: \"\",\n        phone: \"\",\n        check_code: \"\",\n        merchant: \"\",\n        area_code: \"\",\n        apply_id_card1: \"\",\n        apply_id_card2: \"\",\n        business_license: \"\",\n        remark: \"\",\n        area_text: \"\",\n      },\n      id: \"\",\n    };\n  },\n  onLoad(options) {\n    this.getArea();\n    if (options.id) {\n      this.id = options.id;\n      this.getDetail();\n    }\n    uni.$on(\"changeArea\", (data) => {\n      console.log(data);\n      this.ruleForm.area_code = data.code;\n      console.log(this.addressArr);\n      this.getAddText(data.code);\n    });\n  },\n  methods: {\n    getAddText(code) {\n      this.addressArr.forEach((el) => {\n        el.children.forEach((item) => {\n          if (item.value == code) {\n            this.$set(this.ruleForm, \"area_text\", el.label + item.label);\n          }\n        });\n      });\n    },\n    // 获取详情\n    getDetail() {\n      this.API.order\n        .getMyApplyShopInfo({})\n        .then(async (res) => {\n          console.log(res.data);\n          this.ruleForm = { ...res.data, check_code: \"\" };\n          this.getAddText(res.data.area_code);\n        })\n        .catch(async (err) => {\n          if (err.code == 410) {\n            await this.$store.dispatch(\"toLogon\", {});\n            this.getDetail();\n          }\n        });\n    },\n    codeChange(text) {\n      this.tips = text;\n    },\n    async getCode() {\n      if (!this.ruleForm.phone) {\n        uni.showToast({\n          title: \"请输入您的手机号码\",\n          icon: \"none\",\n        });\n        return;\n      }\n      let tag = uni.$u.test.mobile(this.ruleForm.phone);\n      if (!tag) {\n        uni.showToast({\n          title: \"手机号码不合法\",\n          icon: \"none\",\n        });\n        return;\n      }\n      if (this.$refs.uCode.canGetCode) {\n        // 模拟向后端请求验证码\n        await this.postCode();\n        // 通知验证码组件内部开始倒计时\n        this.$refs.uCode.start();\n      } else {\n        uni.showToast({\n          title: \"倒计时结束后再发送\",\n          icon: \"none\",\n        });\n      }\n    },\n    postCode() {\n      let param = {\n        phone: this.ruleForm.phone,\n        type: 2,\n      };\n      this.API.order\n        .sendSmsCheckCode(param)\n        .then((res) => {\n          uni.showToast({\n            title: \"验证码已发送\",\n            icon: \"none\",\n          });\n        })\n        .catch(async (err) => {\n          if (err.code == 410) {\n            await this.$store.dispatch(\"toLogon\", {});\n            this.postCode();\n          }\n        });\n    },\n    // 删除上传图片\n    delFile(key) {\n      this.$set(this.ruleForm, key, \"\");\n    },\n    // 提交\n    addSubmit() {\n      let errorObj = {\n        person: \"请输入名字\",\n        phone: \"请输入您的手机号码\",\n        check_code: \"请输入短信验证码\",\n        merchant: \"请输入工作室名称\",\n        area_code: \"请选择开放区域\",\n        apply_id_card1: \"请上传头像面\",\n        apply_id_card2: \"请上传国徽面\",\n        business_license: \"请上传营业执照\",\n      };\n      let tag = true;\n      for (let i in errorObj) {\n        if (!this.ruleForm[i]) {\n          tag = false;\n          uni.showToast({\n            title: errorObj[i],\n            duration: 2500,\n            icon: \"none\",\n          });\n          return;\n        }\n      }\n      if (tag) {\n        let param = {\n          ...this.ruleForm,\n        };\n        if (this.id) {\n          delete param.id;\n        }\n        this.API.order\n          .applyShop(param)\n          .then(async (res) => {\n            await this.$store.dispatch(\"toLogon\", {});\n            uni.navigateBack({\n              delta: 1,\n              success: () => {\n                uni.showToast({\n                  title: \"申请成功\",\n                  icon: \"none\",\n                });\n              },\n            });\n          })\n          .catch(async (err) => {\n            if (err.code == 410) {\n              await this.$store.dispatch(\"toLogon\", {});\n              this.addSubmit();\n            }\n          });\n      }\n    },\n    //   预览\n    prewFile(url) {\n      uni.previewImage({\n        current: 0, // 当前显示图片索引\n        urls: [url], // 需要预览的图片http链接列表\n      });\n    },\n    getArea() {\n      this.addressArr = [];\n      addressList.forEach((el) => {\n        this.addressArr.push({\n          value: el.code,\n          label: el.name,\n          children: el.children.map((item) => {\n            return {\n              value: item.code + \"00\",\n              label: item.name,\n            };\n          }),\n        });\n      });\n    },\n    chooseArea() {\n      uni.navigateTo({\n        url: \"/pages/index/address?type=mall\",\n      });\n    },\n    chooseMedia(types) {\n      uni.chooseMedia({\n        count: 1, // 默认为9，可以设置为需要的文件数量\n        mediaType: [\"image\"], // 可以选择视频和图片\n        sourceType: [\"album\", \"camera\"], // 可以选择从相册或相机中选择\n        success: (res1) => {\n          const tempFiles = res1.tempFiles;\n          // 这里可以获取到选择的文件列表，进行后续上传操作\n          console.log(tempFiles);\n          // 例如，可以使用uni.uploadFile来上传文件\n          tempFiles.forEach((file) => {\n            this.API.order\n              .getOssUploadSign({\n                type: \"img\",\n              })\n              .then((res) => {\n                console.log(res);\n                let fileTypes = file.tempFilePath.substring(\n                  file.tempFilePath.lastIndexOf(\".\") + 1\n                );\n                let key = `${\n                  res.data.dir\n                }${this.$public.getNowDateTime()}_mall_0_${\n                  this.$store.state.theLogonUser.id\n                }.${fileTypes}`;\n                console.log(key, \"key\");\n                uni.uploadFile({\n                  url: res.data.host,\n                  filePath: file.tempFilePath,\n                  formData: {\n                    key,\n                    policy: res.data.policy,\n                    OssAccessKeyId: res.data.accessid,\n                    success_action_status: \"200\",\n                    signature: res.data.signature,\n                  },\n                  name: \"file\", // 这是后端接收文件的字段名\n                  success: (uploadFileRes) => {\n                    console.log(uploadFileRes);\n                    if (uploadFileRes.statusCode == 200) {\n                      this.$set(\n                        this.ruleForm,\n                        types,\n                        `${res.data.host}/${key}`\n                      );\n                    }\n                  },\n                  fail: (error) => {\n                    console.error(\"upload fail:\", error);\n                  },\n                });\n              })\n              .catch(async (err) => {\n                if (err.code == 410) {\n                  await this.$store.dispatch(\"toLogon\", {});\n                  uni.showToast({\n                    title: \"网络失败，请重试！\",\n                    duration: 2500,\n                    icon: \"none\",\n                  });\n                }\n              });\n          });\n        },\n        fail: (error) => {\n          console.error(\"choose media fail:\", error);\n        },\n      });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.add-mall {\n  box-sizing: border-box;\n  background: #fafafa;\n  min-height: 100vh;\n  padding: 20rpx 0 146rpx;\n  .info-box {\n    background: #ffffff;\n    padding: 0 30rpx;\n    & > view {\n      padding: 39rpx 0;\n      border-bottom: 1rpx solid #e2e2e2;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      .left-label {\n        font-family: PingFang SC;\n        font-weight: 600;\n        font-size: 28rpx;\n        color: #333333;\n        width: 250rpx;\n      }\n      /deep/.u-icon {\n        margin: 2rpx 0 0 10rpx;\n      }\n\n      /deep/ .u-input__content__field-wrapper__field {\n        text-align: right !important;\n        // 重要是这个属性，设置光标的位置，ltr时是鼠标光标在右侧，rtl时是鼠标光标在左侧\n        direction: ltr;\n      }\n      /deep/ .input-placeholder {\n        text-align: right;\n        font-family: PingFang SC;\n        font-weight: 500;\n        font-size: 24rpx;\n        color: #666666;\n      }\n      /deep/ .code-box {\n        .u-button {\n          margin-left: 16rpx;\n          width: 160rpx !important;\n          height: 50rpx !important;\n          padding: 0 !important;\n        }\n      }\n    }\n    & > view:last-child {\n      border: none;\n    }\n  }\n  .card-box {\n    margin-top: 20rpx;\n    padding: 30rpx 32rpx;\n    background: #ffffff;\n    .shu {\n      width: 12rpx;\n      height: 32rpx;\n      background: #ff812f;\n    }\n    .card-title {\n      text {\n        margin-left: 21rpx;\n        font-family: PingFang SC;\n        font-weight: 500;\n        font-size: 30rpx;\n        color: #222222;\n      }\n    }\n    .card-tip {\n      margin-top: 30rpx;\n      font-family: PingFang SC;\n      font-weight: 400;\n      font-size: 24rpx;\n      color: #222222;\n      line-height: 47rpx;\n    }\n    .card-container {\n      margin-top: 40rpx;\n      justify-content: space-between;\n      .img-del {\n        position: relative;\n        & > .del-icon {\n          cursor: pointer;\n          padding: 8rpx;\n          border-radius: 50%;\n          background: #969696;\n          margin-top: -17rpx;\n          position: absolute;\n          right: 0rpx;\n          margin-right: -10rpx;\n          z-index: 6;\n        }\n      }\n      .card-img {\n        width: 327rpx;\n        margin: 0 15rpx;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n        image {\n          width: 327rpx;\n          height: 203rpx;\n        }\n        & > text {\n          margin-top: 30rpx;\n          font-family: PingFang SC;\n          font-weight: 500;\n          font-size: 22rpx;\n          color: #555555;\n        }\n      }\n      .card-img:first-child {\n        margin-left: 0;\n      }\n      .card-img:last-child {\n        margin-right: 0;\n      }\n    }\n    .license-container {\n      justify-content: center;\n    }\n  }\n  .remark-box {\n    background: #ffffff;\n    padding: 30rpx;\n    margin-top: 20rpx;\n    /deep/ .u-textarea {\n      min-height: 70px !important;\n      padding: 0 !important;\n    }\n  }\n  .safe-bottom {\n    padding-bottom: env(safe-area-inset-bottom);\n  }\n  .fix-bottom-box {\n    background: #ffffff;\n    box-shadow: 0rpx 0rpx 7rpx 1rpx rgba(0, 0, 0, 0.04);\n    box-sizing: border-box;\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    padding: 25rpx 75rpx;\n    box-sizing: border-box;\n    z-index: 10;\n    .fix-bottom {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding-bottom: env(safe-area-inset-bottom);\n    }\n    .pay-btn {\n      width: 100%;\n      height: 76rpx;\n      background: linear-gradient(-55deg, #ff9b5a, #ff812f);\n      border-radius: 38rpx;\n      font-family: PingFang SC;\n      font-weight: 400;\n      font-size: 26rpx;\n      color: #ffffff;\n      line-height: 76rpx;\n      text-align: center;\n    }\n  }\n\n  .flex-algin {\n    display: flex;\n    align-items: center;\n  }\n}\n</style>","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addMall.vue?vue&type=style&index=0&id=60437212&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addMall.vue?vue&type=style&index=0&id=60437212&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1718772795295\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}