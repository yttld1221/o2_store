{"version":3,"sources":["uni-app:///main.js","webpack:///D:/ouying/o2_store/pages/mine/mine_push.vue?43e4","webpack:///D:/ouying/o2_store/pages/mine/mine_push.vue?2be0","webpack:///D:/ouying/o2_store/pages/mine/mine_push.vue?1307","webpack:///D:/ouying/o2_store/pages/mine/mine_push.vue?e3c5","uni-app:///pages/mine/mine_push.vue","webpack:///D:/ouying/o2_store/pages/mine/mine_push.vue?df8f","webpack:///D:/ouying/o2_store/pages/mine/mine_push.vue?2b4d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","inviteId","contentText","contentdown","contentrefresh","contentnomore","theIsOnIndex","line_4_items","line_4_items_index","isLoading","theGetMomentsListPage","theGetMomentsListPagesize","school_datas","contentHeight","onLoad","query","select","boundingClientRect","exec","onPullDownRefresh","uni","onShow","onReachBottom","onShareAppMessage","console","title","path","imageUrl","methods","zuduiButtons","option","temp_is_entry","id","is_entry","duration","icon","line_4_itemsSelected","toJzDetail","url","toDetail","actionMore","itemList","itemColor","success","fail","toOn","is_on","type","getMomentsList","that","method","header","token","create_id","page","pagesize","_that","resolve","__that"],"mappings":";;;;;;;;;;;;;AAAA;AAE4D;AAC5D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAAC;AAG3DC,UAAU,CAACC,kBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACa;;;AAGrE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,0VAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAsmB,CAAgB,mnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCqD1nB;EACAC;IACA;MACAC;MACA;MACAC;QACAC;QACAC;QACAC;MACA;MAEAC;MAEA;MACAC;MACAC;MAEA;MACAC;MAEA;MACA;MACAC;MACAC;MAEAC;MACAC;IACA;EACA;EACAC;IAAA;IACA;IACAC,MACAC,sBACAC;MACA;IACA,GACAC;IACA;IACA;EACA;EACA;EACAC;IAAA;IACA;IACA;IACA;IACA;IACA;IACA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACA;YAAA;cACA;cACAC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CACA;EACA;EACAC;IACA;IACA;IACA;EAAA,CACA;EACA;EACAC;IACA;IACA;;IAEA;IACA;EACA;EACA;EACAC;IACAC;IACA;MACA;QACAC;QACAC;QACAC,8BACA,kCACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACAC;kBAAA;kBAAA;gBAAA;gBACA;gBACA;gBACAC;gBAAA;gBAAA,OACA;kBACAC;kBACAC;gBACA;cAAA;gBAEA;gBACA;kBACA;oBACA;sBACA;wBACA;wBACA,UACA,sBACA,aACA,mCACA;wBACA;wBACAb;0BACAK;0BACAS;0BACAC;wBACA;sBACA;wBACA,UACA,sBACA,aACA,mCACA;wBACA;wBACAf;0BACAK;0BACAS;0BACAC;wBACA;sBACA;oBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAEA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAEA;MAAA;QAAA;MAAA;MAAA;IAAA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACAb;MACA;MACAc;MACA;QAAA;MAAA;MACA;QACAA;MACA;MACAlB;QACAkB;MACA;IACA;IAAA;IACAC;MACAf;MACA;MACA;QAAA;MAAA;MACA;QACAc;MACA;MACAlB;QACAkB;MACA;IACA;IACA;IACAE;MAAA;MACA;MACA;MACA;QACAC;MACA;MACArB;QACAqB;QACAC;QACAC;UACA;UACA;YACA;UACA;YACAvB;cACAkB,KACA,yCACAR,cACA,SACAA;YACA;UACA;QACA;QACAc;UACA;QAAA;MAEA;IACA;IAEA;IACAC;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBAAA,MAEAf;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OAEA;kBACAE;kBACAc;kBACAC;gBACA;cAAA;gBACA;kBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,OAEA;kBACAf;kBACAc;kBACAC;gBACA;cAAA;gBACA;kBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAEA;MAAA;QAAA;MAAA;MAAA;IAAA;IACA;IACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACAC;QACA7B;UACAkB;UACAY;UACAC;YACAC;UACA;UACApD;YACAqD;YAEA;YACAC;YACAC;YACA;YACA;YACA;YACAR;YACA;YACAD;UACA;UACAH;YACA;YACA;YACA;YACA;cACAa;YACA;YAEA;cACA;gBACA;kBACAA;gBACA;gBACAhC;gBACAgC;gBACA;gBACAA;gBACAC;cACA;gBACAD;gBACA;gBACA;gBACA;gBACA;gBACA;gBACAC;cACA;YACA;cACArC;gBACAK;gBACAS;gBACAC;cACA;YACA;cACA;cACA;cACA;gBAAA;kBAAA;oBAAA;sBAAA;wBAAA;wBAAA,OAEAuB;sBAAA;wBAEA;wBACAA;wBACA;wBACAA;sBAAA;sBAAA;wBAAA;oBAAA;kBAAA;gBAAA;cAAA,CACA;YACA;cACAtC;gBACAK;gBACAS;gBACAC;cACA;YACA;UACA;UACAS;YACAxB;cACAK;cACAS;cACAC;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC5WA;AAAA;AAAA;AAAA;AAAy3B,CAAgB,w2BAAG,EAAC,C;;;;;;;;;;;ACA74B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/mine/mine_push.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;;import '@dcloudio/vue-cli-plugin-uni/packages/uni-push/dist/uni-push.es.js';\nimport Vue from 'vue'\nimport Page from './pages/mine/mine_push.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./mine_push.vue?vue&type=template&id=4f4f6883&\"\nvar renderjs\nimport script from \"./mine_push.vue?vue&type=script&lang=js&\"\nexport * from \"./mine_push.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mine_push.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mine/mine_push.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine_push.vue?vue&type=template&id=4f4f6883&\"","var components\ntry {\n  components = {\n    postTypeZudui: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/post-type-zudui/components/post-type-zudui/post-type-zudui\" */ \"@/uni_modules/post-type-zudui/components/post-type-zudui/post-type-zudui.vue\"\n      )\n    },\n    uniLoadMore: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-load-more/components/uni-load-more/uni-load-more\" */ \"@/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine_push.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine_push.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"content\">\r\n    <!-- 第四行：列表按钮 -->\r\n    <view class=\"the-line-4\">\r\n      <view\r\n        :key=\"index\"\r\n        @click=\"line_4_itemsSelected(index)\"\r\n        class=\"the-line-4-item\"\r\n        v-for=\"(item, index) in line_4_items\"\r\n      >\r\n        <view\r\n          :class=\"{\r\n            'the-line-4-item-name': true,\r\n            'the-line-4-item-selected': index == line_4_items_index,\r\n          }\"\r\n          >{{ item }}</view\r\n        >\r\n        <view\r\n          v-if=\"index == line_4_items_index\"\r\n          class=\"the-line-4-item-line\"\r\n        ></view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 内容 -->\r\n    <view :style=\"'margin-top:' + contentHeight + 'px;'\">\r\n      <view\r\n        :key=\"index\"\r\n        class=\"posts-data\"\r\n        v-for=\"(item, index) in school_datas\"\r\n      >\r\n        <post-type-zudui\r\n          @zuduiButtons=\"zuduiButtons\"\r\n          :showPhone=\"false\"\r\n          @toJzDetail=\"toJzDetail\"\r\n          @toDetail=\"toDetail\"\r\n          @actionMore=\"actionMore\"\r\n          :isMine=\"true\"\r\n          :postsDataOneIndex=\"1\"\r\n          :theData=\"item\"\r\n        ></post-type-zudui>\r\n      </view>\r\n    </view>\r\n    <!-- 底部垫层 -->\r\n    <view class=\"space-line-bottom\">\r\n      <uni-load-more\r\n        :status=\"isLoading\"\r\n      ></uni-load-more>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      inviteId: {},\r\n      // 用于 uni-load-more\r\n      contentText: {\r\n        contentdown: \"查看更多\",\r\n        contentrefresh: \"加载中...\",\r\n        contentnomore: \"到底了，可点击此处手动加载~\",\r\n      },\r\n\r\n      theIsOnIndex: 0,\r\n\r\n      //\r\n      line_4_items: [\"全部\", \"已上线的\", \"草稿箱\"],\r\n      line_4_items_index: 0,\r\n\r\n      // 最后的加载组件的加载动画效果，\r\n      isLoading: \"loading\",\r\n\r\n      // 用于分页加载传参\r\n      // 当前获取的校园墙页码，每次需要+1\r\n      theGetMomentsListPage: 1,\r\n      theGetMomentsListPagesize: 5,\r\n\r\n      school_datas: [],\r\n      contentHeight: 0,\r\n    };\r\n  },\r\n  onLoad() {\r\n    let query = uni.createSelectorQuery().in(this);\r\n    query\r\n      .select(\".the-line-4\")\r\n      .boundingClientRect((data) => {\r\n        this.contentHeight = data.height;\r\n      })\r\n      .exec();\r\n    this.theGetMomentsListPage = 1;\r\n    this.getMomentsList();\r\n  },\r\n  // 监听下拉动作\r\n  onPullDownRefresh() {\r\n    // 重置获取的页码\r\n    this.theGetMomentsListPage = 1;\r\n    // 重置数组\r\n    this.school_datas = [];\r\n    // 异步转同步调用\r\n    (async () => {\r\n      await this.getMomentsList();\r\n      // 等待接口返回后，取消下拉刷新动画\r\n      uni.stopPullDownRefresh();\r\n    })();\r\n  },\r\n  onShow() {\r\n    // --------------------------------------------------------------调用初始数据--------------------------------------------------------------\r\n    // --------------------------------------------------------------调用初始数据--------------------------------------------------------------\r\n    // --------------------------------------------------------------调用初始数据--------------------------------------------------------------\r\n  },\r\n  // 页面触底的监听事件，配合pages.json中的\"onReachBottomDistance\": 0，0的位置写距离底部的距离\r\n  onReachBottom() {\r\n    // 触底后动画效果开启\r\n    this.isLoading = \"loading\";\r\n\r\n    // 调用接口\r\n    this.getMomentsList();\r\n  },\r\n  //分享按钮\r\n  onShareAppMessage(e) {\r\n    console.log(e, this.inviteId);\r\n    if (e.from == \"button\") {\r\n      return {\r\n        title: this.inviteId.title,\r\n        path: `/pages/index/detail?id=${this.inviteId.id}`,\r\n        imageUrl: this.inviteId.url\r\n          ? this.inviteId.url.split(\",\")[0]\r\n          : \"/static/icon-zd.png\",\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    // 邀请/组队按钮\r\n    zuduiButtons: async function (option) {\r\n      if (option.type == 1) {\r\n        // 1表示是组队的按钮\r\n        // 这是保存一下当前本人的加入状态，用于判断最后本地是显示加入还是退出\r\n        let temp_is_entry = option.is_entry;\r\n        await this.$store.dispatch(\"toEntry\", {\r\n          id: option.id,\r\n          is_entry: option.is_entry,\r\n        });\r\n\r\n        // console.log('this.$store.state.is_entry_true ',this.$store.state.is_entry_true );\r\n        if (this.$store.state.is_entry_true == true) {\r\n          for (let i = 0; i < this.school_datas.length; i++) {\r\n            if (option.id == this.school_datas[i].id) {\r\n              if (temp_is_entry == 2) {\r\n                // 使用$set响应的改变对象数据，第一个参数是对象本身，第二个参数是属性（记得加引号），第三个是改变后的值\r\n                this.$set(\r\n                  this.school_datas[i],\r\n                  \"entry_num\",\r\n                  this.school_datas[i].entry_num + 1\r\n                );\r\n                this.$set(this.school_datas[i], \"is_entry\", 1);\r\n                uni.showToast({\r\n                  title: \"加入成功\",\r\n                  duration: 1000,\r\n                  icon: \"none\",\r\n                });\r\n              } else {\r\n                this.$set(\r\n                  this.school_datas[i],\r\n                  \"entry_num\",\r\n                  this.school_datas[i].entry_num - 1\r\n                );\r\n                this.$set(this.school_datas[i], \"is_entry\", 2);\r\n                uni.showToast({\r\n                  title: \"已退出组队\",\r\n                  duration: 1000,\r\n                  icon: \"none\",\r\n                });\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        this.inviteId = option;\r\n      }\r\n    },\r\n    // 切换状态\r\n    line_4_itemsSelected: function (index) {\r\n      // console.log(1111111);\r\n      this.line_4_items_index = index;\r\n      this.theIsOnIndex = index;\r\n      this.school_datas = [];\r\n      this.theGetMomentsListPage = 1;\r\n      this.getMomentsList();\r\n    },\r\n    // 个人主页兼职不可以展示联系按钮\r\n    toJzDetail: function (id) {\r\n      console.log(id);\r\n      let url = \"/pages/index/detail?id=\" + id;\r\n      url += \"&noPhone=1\";\r\n      let index = this.school_datas.findIndex((el) => el.id == id);\r\n      if (index > -1) {\r\n        url += this.school_datas[index].is_on == 1 ? \"\" : \"&noMore=1\";\r\n      }\r\n      uni.navigateTo({\r\n        url,\r\n      });\r\n    }, // 跳转详情页\r\n    toDetail: function (id) {\r\n      console.log(id);\r\n      let url = \"/pages/index/detail?id=\" + id;\r\n      let index = this.school_datas.findIndex((el) => el.id == id);\r\n      if (index > -1) {\r\n        url += this.school_datas[index].is_on == 1 ? \"\" : \"&noMore=1\";\r\n      }\r\n      uni.navigateTo({\r\n        url,\r\n      });\r\n    },\r\n    //打开三个点的操作\r\n    actionMore: function (option) {\r\n      let that = this;\r\n      let itemList = [option.is_on == 1 ? \"下线撤回\" : \"上线发布\"];\r\n      if (option.is_on == 2) {\r\n        itemList.unshift(\"编辑\");\r\n      }\r\n      uni.showActionSheet({\r\n        itemList,\r\n        itemColor: \"#333333\",\r\n        success: (res) => {\r\n          // console.log(res.tapIndex);\r\n          if ([\"下线撤回\", \"上线发布\"].includes(itemList[res.tapIndex])) {\r\n            this.toOn(option);\r\n          } else if ([\"编辑\"].includes(itemList[res.tapIndex])) {\r\n            uni.navigateTo({\r\n              url:\r\n                \"/page_product/pages/push/index?type=\" +\r\n                option.type +\r\n                \"&id=\" +\r\n                option.id,\r\n            });\r\n          }\r\n        },\r\n        fail: function (res) {\r\n          // console.log(res.errMsg);\r\n        },\r\n      });\r\n    },\r\n\r\n    // 上下线\r\n    toOn: async function (option) {\r\n      // 每次调用前先重置一下\r\n      this.$store.state.isOn_true = false;\r\n\r\n      if (option.is_on == 1) {\r\n        // 表示当前是上线，点击的目的是为了下线\r\n        await this.$store.dispatch(\"upDownMyMoments\", {\r\n          id: option.id,\r\n          is_on: 2,\r\n          type: \"发布管理\",\r\n        });\r\n        if (this.$store.state.isOn_true == true) {\r\n          // 调用成功\r\n          this.line_4_itemsSelected(2); // 操作成功，就跳转草稿页\r\n        }\r\n      } else {\r\n        await this.$store.dispatch(\"upDownMyMoments\", {\r\n          id: option.id,\r\n          is_on: 1,\r\n          type: \"发布管理\",\r\n        });\r\n        if (this.$store.state.isOn_true == true) {\r\n          // 调用成功\r\n          this.line_4_itemsSelected(1); // 操作成功，就跳转已上线页\r\n        }\r\n      }\r\n    },\r\n    //------------------------------------------------  接口方法  -----------------------------------------------------\r\n    //------------------------------------------------  接口方法  -----------------------------------------------------\r\n    //------------------------------------------------  接口方法  -----------------------------------------------------\r\n    // 分页获取接口数据\r\n    getMomentsList: function () {\r\n      let _this = this;\r\n      return new Promise(function (resolve, reject) {\r\n        let that = _this;\r\n        that.isLoading = \"loading\"; // 加载中\r\n        uni.request({\r\n          url: that.$store.state.theUrl + \"/wechat/moments/getMomentsList\",\r\n          method: \"POST\",\r\n          header: {\r\n            token: that.$store.state.theToken,\r\n          },\r\n          data: {\r\n            create_id: that.$store.state.theLogonUser.id,\r\n\r\n            // 传参不全，当前只用到onload时候需要的字段\r\n            page: that.theGetMomentsListPage,\r\n            pagesize: that.theGetMomentsListPagesize,\r\n            // 校园墙类型：话题、组队/搭子、分享/安利、二手闲置、兼职、表白、求助、其他，传空字符串为全部\r\n            // schoolOneTitleIndex == 0 表示是综合，就是全部的意思，所以传空\r\n            // type:(that.schoolOneTitleIndex == 0 ?'':that.titles[that.schoolOneTitleIndex]),\r\n            type: \"\",\r\n            // 是否上线 是否上线，1-是（默认），2-草稿，0-全部\r\n            is_on: that.theIsOnIndex,\r\n          },\r\n          success: (res) => {\r\n            // console.log('getMomentsList_res', res);\r\n            let _that = that;\r\n            // 如果是请求第一页，证明是首次请求，就重置一下\r\n            if (_that.theGetMomentsListPage == 1) {\r\n              _that.school_datas = [];\r\n            }\r\n\r\n            if (res.data.code == 0) {\r\n              if (res.data.data.length != 0) {\r\n                for (let i = 0; i < res.data.data.length; i++) {\r\n                  _that.school_datas.push(res.data.data[i]);\r\n                }\r\n                console.log(\"_that.school_datas\", _that.school_datas);\r\n                _that.isLoading = \"no-more\"; // 取消加载动画\r\n                // 页面+1\r\n                _that.theGetMomentsListPage += 1;\r\n                resolve();\r\n              } else {\r\n                _that.isLoading = \"no-more\"; // 取消加载动画\r\n                // uni.showToast({\r\n                // \ttitle: '没有更多了哦~',\r\n                // \tduration: 1500,\r\n                // \ticon: 'none'\r\n                // })\r\n                resolve();\r\n              }\r\n            } else if (res.data.code == 500) {\r\n              uni.showToast({\r\n                title: \"服务器连接失败，请反馈官方客服哦~\",\r\n                duration: 2500,\r\n                icon: \"none\",\r\n              });\r\n            } else if (res.data.code == 410) {\r\n              let __that = _that;\r\n              // 异步转同步，\r\n              (async function () {\r\n                // 登录\r\n                await __that.$store.dispatch(\"toLogon\", {});\r\n\r\n                // 重置\r\n                __that.school_datas = [];\r\n                // 获取省市数据\r\n                __that.getMomentsList();\r\n              })();\r\n            } else {\r\n              uni.showToast({\r\n                title: res.data.msg,\r\n                duration: 2500,\r\n                icon: \"none\",\r\n              });\r\n            }\r\n          },\r\n          fail: (res) => {\r\n            uni.showToast({\r\n              title: \"网络失败，请重试！多次无效后，反馈官方客服哦！\",\r\n              duration: 2500,\r\n              icon: \"none\",\r\n            });\r\n          },\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.the-line-4 {\r\n  z-index: 10;\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100vw;\r\n  border-bottom: #f3f3f3 1px solid;\r\n  background-color: #ffffff;\r\n  position: fixed;\r\n}\r\n\r\n.the-line-4-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 50%;\r\n}\r\n\r\n.the-line-4-item-selected {\r\n  color: #000000 !important;\r\n}\r\n\r\n.the-line-4-item-name {\r\n  margin-top: 10px;\r\n  color: #bbbbbb;\r\n  height: 25px;\r\n  line-height: 25px;\r\n}\r\n\r\n.the-line-4-item-line {\r\n  width: 25%;\r\n  height: 3px;\r\n  background-color: #f89f12;\r\n  border-radius: 100px;\r\n  margin-top: 7px;\r\n}\r\n\r\n.posts-data {\r\n  width: 100vw;\r\n}\r\n\r\n.space-line-bottom {\r\n  margin: 30rpx 0;\r\n}\r\n</style>","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine_push.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine_push.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1719555488124\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}