{"version":3,"sources":["uni-app:///main.js","webpack:///D:/ouying/o2_store/pages/index/detail.vue?ba12","webpack:///D:/ouying/o2_store/pages/index/detail.vue?8686","webpack:///D:/ouying/o2_store/pages/index/detail.vue?14ef","webpack:///D:/ouying/o2_store/pages/index/detail.vue?75fc","uni-app:///pages/index/detail.vue","webpack:///D:/ouying/o2_store/pages/index/detail.vue?b133","webpack:///D:/ouying/o2_store/pages/index/detail.vue?1d79"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","isLoading","totalCount","theGetCommentListPage","theGetCommentListPagesize","detailData","content","members","id","nick_name","avatar_url","title","url","pid","is_on","is_hot","school_id","type","label","is_anonymous","wages","settlement","hope_num","free_type","is_entry","area_code","task_id","created_at","released_at","create_id","sex_type","start_at","end_at","is_regard","is_thumb","thumb_num","comment_num","entry_num","school_name","area_name","theInputComment","theComments","moments_id","msg","onLoad","console","that","onPullDownRefresh","uni","onReachBottom","methods","showDateTime","topPerSonalhome","duration","icon","toThumb","temp_is_thumb","actionMore","itemList","itemColor","success","_that","fail","zuduiButtons","option","temp_is_entry","getCommentList","method","header","token","page","pagesize","resolve","confirmText","confirmColor","showCancel","__that","toComment","commentThumb","comment_id"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,0VAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClEA;AAAA;AAAA;AAAA;AAAmmB,CAAgB,gnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC+CvnB;EACAC;IACA;MACA;MACAC;MAEA;MACAC;MAAA;;MAEAC;MACAC;MAEA;MACAC;QACA;QACAC;QACA;QACAC;UACAC;UACAC;UACAC;QACA,EACA;QACA;QACAF;QACAG;QACAC;QAAA;QACAC;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACA5B;QACAC;QACA4B;QACAC;MACA;MAGA;MACAC;MACA;MACAC,cACA;QACAjC;QACAkC;QACAC;QACAd;QACAF;QACAQ;QACAD;QAAA;QACAzB;QACAC;MACA;IAEA;EACA;EACAkC;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MAAA;QAAA;UAAA;YAAA;cACAC;cACA;cAAA;cAAA,OACAC;gBACAtC;cACA;YAAA;cACA;cACAsC;cACA;;cAEA;cACAA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CACA;EAGA;EACA;EACAC;IACA;IACA;IACAD;;IAEA;IACAA;;IAEA;IACAA;;IAEA;IACAA;;IAEA;IACA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OAIAA;YAAA;cAGA;cACAE;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CACA;EACA;EACA;EACAC;IACA;IACA;;IAEA;IACA;EACA;EACAC;IACA;IACA;IACA;IACAC;MACA;IACA;IAGA;IACAC;MACA;QAAA;QACAJ;UACApC;QACA;MACA;QACAoC;UACArC;UACA0C;UACAC;QACA;MACA;IACA;IAEA;IACA;IACAC;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBACA;gBACAC;gBAAA;gBAAA,OACA;kBACAhD;kBACA0B;gBACA;cAAA;gBAEA;gBACA;kBAAA;kBACA;oBAAA;oBACA;oBACA;oBACA;oBACAc;sBACArC;sBACA0C;sBACAC;oBACA;kBACA;oBAAA;oBACA;oBACA;oBACAN;sBACArC;sBACA0C;sBACAC;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACA;MAAA;QAAA;MAAA;MAAA;IAAA;IACA;IACAG;MACA;MACA;MACAT;QACAU;QACAC;QACAC;UACA;UACA;YACA;YACA;cAAA;gBAAA;kBAAA;oBAAA;sBAAA;sBAAA,OAEAC;wBACArD;sBACA;oBAAA;sBAEA;wBAAA;wBACA;0BACA;0BACAqD;0BACAb;4BACArC;4BACA0C;4BACAC;0BACA;wBACA;0BACAO;0BACAb;4BACArC;4BACA0C;4BACAC;0BACA;wBACA;sBACA;oBAAA;oBAAA;sBAAA;kBAAA;gBAAA;cAAA;YAAA,CACA;UACA;YACAN;cACArC;cACA0C;cACAC;YACA;UACA;QACA;QACAQ;UACA;QAAA;MAEA;IACA;IACA;IACAC;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACAC;kBAAA;kBAAA;gBAAA;gBAAA;gBACA;gBACAC;gBAAA;gBAAA,OACA;kBACAzD;kBACAgB;gBACA;cAAA;gBAEA;gBACA;kBAAA;kBACA;oBACA;oBACA;oBACA;oBACA;oBACA;sBACAhB;sBACAC;sBACAC;oBACA;oBACAsC;sBACArC;sBACA0C;sBACAC;oBACA;kBACA;oBACA;oBACA;oBACA;oBACA;sBACA;sBACA;wBACA;sBACA;oBACA;oBACAN;sBACArC;sBACA0C;sBACAC;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAEA;MAAA;QAAA;MAAA;MAAA;IAAA;IACA;IACA;IACA;IACA;IACAY;MACA;MACA;QACA;QACApB;QACA;QACA;UACAE;YACApC;YACAuD;YACAC;cACAC;YACA;YACArE;cACAsE;cACAC;cACA7B;YACA;YACAkB;cACA;cACA;cACA;cACA;gBACAC;gBAEAA;cACA;cAEA;gBACA;kBACAA;gBACA;gBAEAA;gBACAW;cACA;gBACAxB;kBACArC;kBACA0C;kBACAC;gBACA;cAEA;gBACAN;kBACArC;kBACAL;kBACAmE;kBACAC;kBACAC;kBACAf;oBACA;sBACA;sBACA;sBACA;wBAAA;0BAAA;4BAAA;8BAAA;gCAAA;gCAAA,OAEAgB;8BAAA;gCAEAA;8BAAA;8BAAA;gCAAA;4BAAA;0BAAA;wBAAA;sBAAA,CACA;oBACA;kBACA;gBACA;cACA;gBACA5B;kBACArC;kBACA0C;kBACAC;gBACA;cACA;YACA;YACAQ;cACAjB;cACAG;gBACArC;gBACA0C;gBACAC;cACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAuB;MACA;MACA;QACA;QACA;QACA;UACA7B;YACApC;YACAuD;YACAC;cACAC;YACA;YACArE;cACA2C;cACAD;YACA;YACAkB;cACA;cACA;cAEA;gBACAC;kBACArD;kBACAkC;kBACAC;kBACAd;kBACAF;kBACAQ;kBACAD;kBAAA;kBACAzB;kBACAC;gBACA;gBACA;gBACAmD;gBAEAW;cACA;gBACAxB;kBACArC;kBACA0C;kBACAC;gBACA;cAEA;gBACAN;kBACArC;kBACAL;kBACAmE;kBACAC;kBACAC;kBACAf;oBACA;sBACA;sBACA;sBACA;wBAAA;0BAAA;4BAAA;8BAAA;gCAAA;gCAAA,OAEAgB;8BAAA;gCAEA;gCACAA;8BAAA;8BAAA;gCAAA;4BAAA;0BAAA;wBAAA;sBAAA,CACA;oBACA;kBACA;gBACA;cACA;gBACA5B;kBACArC;kBACA0C;kBACAC;gBACA;cACA;YACA;YACAQ;cACAd;gBACArC;gBACA0C;gBACAC;cACA;YACA;UACA;QACA;UACAN;YACArC;YACA0C;YACAC;UACA;QACA;MACA;IACA;IACA;IACAwB;MACA;MACA;MACA9B;QACApC;QACAuD;QACAC;UACAC;QACA;QACArE;UACA+E;QACA;QACAnB;UACA;UACA;UAEA;YACA;cACAC;cACAA;YACA;cACAA;cACAA;YACA;UAEA;YACAb;cACArC;cACA0C;cACAC;YACA;UAEA;YACAN;cACArC;cACAL;cACAmE;cACAC;cACAC;cACAf;gBACA;kBACA;kBACA;kBACA;oBAAA;sBAAA;wBAAA;0BAAA;4BAAA;4BAAA,OAEAgB;0BAAA;4BAEA;4BACAA;0BAAA;0BAAA;4BAAA;wBAAA;sBAAA;oBAAA;kBAAA,CACA;gBACA;cACA;YACA;UACA;YACA5B;cACArC;cACA0C;cACAC;YACA;UACA;QACA;QACAQ;UACAd;YACArC;YACA0C;YACAC;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACvkBA;AAAA;AAAA;AAAA;AAAs3B,CAAgB,q2BAAG,EAAC,C;;;;;;;;;;;ACA14B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=5166ee27&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/detail.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=5166ee27&\"","var components\ntry {\n  components = {\n    postTypeZudui: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/post-type-zudui/components/post-type-zudui/post-type-zudui\" */ \"@/uni_modules/post-type-zudui/components/post-type-zudui/post-type-zudui.vue\"\n      )\n    },\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniLoadMore: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-load-more/components/uni-load-more/uni-load-more\" */ \"@/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n    uniEasyinput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput\" */ \"@/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.theComments.length\n  var l0 = _vm.__map(_vm.theComments, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = g0 > 0 ? _vm.showDateTime(item) : null\n    return {\n      $orig: $orig,\n      m0: m0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 内容 -->\r\n\t\t<view class=\"posts-data\">\r\n\t\t\t<post-type-zudui @toThumb=\"toThumb\" @zuduiButtons=\"zuduiButtons\" @topPerSonalhome=\"topPerSonalhome\"\r\n\t\t\t\t@actionMore=\"actionMore\"\r\n\t\t\t\t:isDetail=\"true\" :postsDataOneIndex=\"1\" :theData=\"detailData\"></post-type-zudui>\r\n\t\t</view>\r\n\r\n\t\t<!-- 评论区域 -->\r\n\t\t<view class=\"comment\">\r\n\t\t\t<view class=\"comment-title\">精彩评论</view>\r\n\t\t\t<view class=\"comment-one\" v-for=\"(item,index) in theComments\">\r\n\t\t\t\t<!-- 头像 -->\r\n\t\t\t\t<view @click=\"topPerSonalhome(item.create_id)\" class=\"comment-one-avatar\" :style=\"'background: url('+item.avatar_url+');'\"></view>\r\n\t\t\t\t<!-- 内容 -->\r\n\t\t\t\t<view class=\"comment-one-content\">\r\n\t\t\t\t\t<view class=\"comment-one-content-line-1\">\r\n\t\t\t\t\t\t<!-- 名字和时间 -->\r\n\t\t\t\t\t\t<view class=\"comment-one-content-line-1-left\">\r\n\t\t\t\t\t\t\t<view class=\"left-name\">{{item.nick_name}}</view>\r\n\t\t\t\t\t\t\t<view v-if=\"theComments.length > 0\" class=\"left-time\">{{showDateTime(item)}}</view>\r\n\t\t\t\t\t\t\t<!-- <view class=\"left-time\">{{item.created_at != '刚刚'?$public.showDateTime(item.created_at):'刚刚'}}</view> -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 点赞 -->\r\n\t\t\t\t\t\t<view @click=\"commentThumb(item,index)\" class=\"comment-one-content-line-1-right\">\r\n\t\t\t\t\t\t\t<view class=\"right-num\" :style=\"item.is_thumb == 2?'#000000':'color: #ff6155;'\">{{item.thumb_num}}</view>\r\n\t\t\t\t\t\t\t<uni-icons type=\"hand-up\" :color=\"item.is_thumb == 2?'#000000':'#ff6155'\" size=\"20\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"comment-one-content-line-2\">{{item.msg}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 底部间隔 -->\r\n\t\t<view class=\"space-line-bottom\">\r\n\t\t\t<uni-load-more :status=\"loading\"></uni-load-more>\r\n\t\t</view>\r\n\t\t<!-- 评论输入框 -->\r\n\t\t<view class=\"comment-input\" :style=\"'bottom:'+0+'px;'\">\r\n\t\t\t<uni-easyinput v-model=\"theInputComment\" confirmType=\"send\" placeholder=\"想要说点什么（￣ー+￣）...\" :inputBorder=\"false\" />\r\n\t\t\t<view @click=\"toComment\" class=\"comment-button\">发送</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 底部显示加载中的动画效果  more表示加载前，loading表示加载中，no-more表示没有更多数据\r\n\t\t\t\tisLoading: 'loading',\r\n\t\t\t\t\r\n\t\t\t\t// 由于接口分也逻辑，如果拿完的是最后一页，下一页是会报错的，所以需要知道当前是否是最后一页，否则不允许调用接口的\r\n\t\t\t\ttotalCount:11, // 初始值必须大于theGetCommentListPagesize\r\n\r\n\t\t\t\ttheGetCommentListPage: 1,\r\n\t\t\t\ttheGetCommentListPagesize: 10,\r\n\r\n\t\t\t\t// 详情页数据\r\n\t\t\t\tdetailData: {\r\n\t\t\t\t\t// 该字段只有详情页才有\r\n\t\t\t\t\tcontent: \"这是一段描述的内容，也就是活动的详情内容，但是只有详情页才有这个字段。\",\r\n\t\t\t\t\t// 该字段只有详情页才有\r\n\t\t\t\t\tmembers: [{\r\n\t\t\t\t\t\t\tid: \"1\",\r\n\t\t\t\t\t\t\tnick_name: \"黄\",\r\n\t\t\t\t\t\t\tavatar_url: \"https://schoolwx.oss-cn-hangzhou.aliyuncs.com/school/img/20230513/168394053478518.png\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\t//------------------------------------------------------------------------------------------------------------------------\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\ttitle: \"欢迎来到氧气仓库官方资讯，这里有最前沿的校园资讯分享，快来和我一起看看吧～\",\r\n\t\t\t\t\turl: \"https://schoolwx.oss-cn-hangzhou.aliyuncs.com/school/img/20230518/1684379049443118.png,https://schoolwx.oss-cn-hangzhou.aliyuncs.com/school/img/20230518/1684379049443118.png\", // 图片，多张用英文的逗号隔开\r\n\t\t\t\t\tpid: 0,\r\n\t\t\t\t\tis_on: 1, // 是否是上线状态，1表示是，2表示否\r\n\t\t\t\t\tis_hot: 2, // 是否是热门，1表示是，2表示否\r\n\t\t\t\t\tschool_id: 3, // 发布人所在学校ID\r\n\t\t\t\t\ttype: \"组队/搭子\", //类型有：话题、组队/搭子、分享/安利、二手闲置、兼职、表白、求助、其他\r\n\t\t\t\t\tlabel: \"#打球,#吃喝玩,#看电影,#看电影,#看电影,#看电影,#看电影,#看电影,#看电影\", // 标签，多个用英文的逗号隔开\r\n\t\t\t\t\tis_anonymous: 1, // 是否匿名 1表示是，2表示不匿名\r\n\t\t\t\t\twages: \"\", // 兼职用的，工资金额或者显示\"面议\"\r\n\t\t\t\t\tsettlement: \"\", // 工资结算方式  用/拼接\r\n\t\t\t\t\thope_num: 10, // 组队的期望人数\r\n\t\t\t\t\tfree_type: \"AA\", // 组队的费用类型  免费/AA\r\n\t\t\t\t\tis_entry: 1, // 本人是否报名组队，1是，2否\r\n\t\t\t\t\tarea_code: \"640100\", // 活动区地区代码\r\n\t\t\t\t\ttask_id: 0, // 关联的活动ID\r\n\t\t\t\t\tcreated_at: \"2021-05-18 11:05:13\", // 第一次插入时间\r\n\t\t\t\t\treleased_at: \"2021-03-11 16:05:13\", // 发布时间\r\n\t\t\t\t\tcreate_id: 50, // 发布人ID\r\n\t\t\t\t\tsex_type: \"不限\", // 组队的性别要求\r\n\t\t\t\t\tstart_at: \"2021-03-15\", // 组队活动开始日期\r\n\t\t\t\t\tend_at: \"2021-03-17\", // 组队活动结束日期\r\n\t\t\t\t\tis_regard: 2, // 本人是否点关注 1是2否\r\n\t\t\t\t\tis_thumb: 2, // 本人是否点过赞 1是2否\r\n\t\t\t\t\tthumb_num: 1, // 点赞数\r\n\t\t\t\t\tcomment_num: 0, // 评论数\r\n\t\t\t\t\tentry_num: 3, // 实际报名人数\r\n\t\t\t\t\tnick_name: \"氧*\",\r\n\t\t\t\t\tavatar_url: \"https://schoolwx.oss-cn-hangzhou.aliyuncs.com/school/img/20230518/1684378586065116.png\",\r\n\t\t\t\t\tschool_name: \"宁波大学\",\r\n\t\t\t\t\tarea_name: \"银川市\"\r\n\t\t\t\t},\r\n\r\n\r\n\t\t\t\t// 要发布的评论\r\n\t\t\t\ttheInputComment: '',\r\n\t\t\t\t// 评论\r\n\t\t\t\ttheComments: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\tmoments_id: 1,\r\n\t\t\t\t\t\tmsg: \"。\",\r\n\t\t\t\t\t\tcreate_id: 1,\r\n\t\t\t\t\t\tcreated_at: \"\",\r\n\t\t\t\t\t\tthumb_num: 0,\r\n\t\t\t\t\t\tis_thumb: 1, // 本人是否点赞过 1是2否\r\n\t\t\t\t\t\tnick_name: \"\",\r\n\t\t\t\t\t\tavatar_url: \"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\r\n\t\t\t// --------------------------------------------------------------调用初始数据--------------------------------------------------------------\r\n\t\t\t// --------------------------------------------------------------调用初始数据--------------------------------------------------------------\r\n\t\t\t// --------------------------------------------------------------调用初始数据--------------------------------------------------------------\r\n\t\t\t// 调用详情接口\r\n\t\t\t// 重定向\r\n\t\t\tlet that = this;\r\n\t\t\t// 异步转同步调用\r\n\t\t\t(async function() {\r\n\t\t\t\tconsole.log('option',option);\r\n\t\t\t\t// 存再index.js的公共方法，调用帖子详情（接口中把详情内容赋值给了index.js的全局变量theDetailData）\r\n\t\t\t\tawait that.$store.dispatch('getMomentInfo', {\r\n\t\t\t\t\tid: option.id\r\n\t\t\t\t});\r\n\t\t\t\t// 本页面赋值\r\n\t\t\t\tthat.detailData = that.$store.state.theDetailData;\r\n\t\t\t\t// console.log('that.detailData', that.detailData);\r\n\r\n\t\t\t\t// 获取评论列表（第一页的）\r\n\t\t\t\tthat.getCommentList();\r\n\t\t\t})()\r\n\r\n\r\n\t\t},\r\n\t\t// 监听下拉动作\r\n\t\tonPullDownRefresh() {\r\n\t\t\tlet that = this;\r\n\t\t\t// 重置获取的页码\r\n\t\t\tthat.theGetCommentListPage = 1;\r\n\t\t\t\r\n\t\t\t// 重置评论数组\r\n\t\t\tthat.theComments = [];\r\n\t\t\t\r\n\t\t\t// 重置输入框内容\r\n\t\t\tthat.theInputComment ='';\r\n\t\t\t\r\n\t\t\t// 重置总条数\r\n\t\t\tthat.totalCount = 11;\r\n\t\t\t\r\n\t\t\t// 异步转同步调用\r\n\t\t\t(async function() {\r\n\r\n\t\t\t\t// 获取评论列表（第一页的）\r\n\t\t\t\t\r\n\t\t\t\tawait that.getCommentList();\r\n\t\t\t\t\r\n\r\n\t\t\t\t// 等待接口返回后，取消下拉刷新动画\r\n\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t})()\r\n\t\t},\r\n\t\t// 页面触底的监听事件，配合pages.json中的\"onReachBottomDistance\": 0，0的位置写距离底部的距离\r\n\t\tonReachBottom() {\r\n\t\t\t// 触底后动画效果开启\r\n\t\t\tthis.isLoading = 'loading';\r\n\r\n\t\t\t// 调用接口\r\n\t\t\tthis.getCommentList();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//---------------------------------------------------------------界面处理方法---------------------------------------------------------------\r\n\t\t\t//---------------------------------------------------------------界面处理方法---------------------------------------------------------------\r\n\t\t\t//---------------------------------------------------------------界面处理方法---------------------------------------------------------------\r\n\t\t\tshowDateTime:function(item){\r\n\t\t\t\treturn item.created_at != '刚刚'?this.$public.showDateTime(item.created_at):'刚刚'\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 跳转主页\r\n\t\t\ttopPerSonalhome: function(option) {\r\n\t\t\t\tif(option.is_anonymous == 2){ // 不匿名\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/follow/personalhome?id=' + option.id\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '这个人很神秘，不想让你看到TA的主页~',\r\n\t\t\t\t\t\tduration: 2500,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 点赞\r\n\t\t\t// 说明：点赞的接口放在index.js公共store中\r\n\t\t\ttoThumb: async function(option) { // 这里之所以又加了一层，是为了拿到子组件传过来的option\r\n\t\t\t\t// 这是保存一下当前本人的点赞状态，用于判断最后本地是增加还是减少点赞数的\r\n\t\t\t\tlet temp_is_thumb = option.is_thumb;\r\n\t\t\t\tawait this.$store.dispatch('toThumb', {\r\n\t\t\t\t\tid: option.id,\r\n\t\t\t\t\tis_thumb: option.is_thumb\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// console.log('this.$store.state.is_thumb_true ',this.$store.state.is_thumb_true );\r\n\t\t\t\tif (this.$store.state.is_thumb_true == true) { // 表示点赞操作成功了\r\n\t\t\t\t\tif (temp_is_thumb == 2) { // 原来的如果是2（未点赞状态，那么操作成功后这里应该改成1）\r\n\t\t\t\t\t\t// 使用$set响应的改变对象数据，第一个参数是对象本身，第二个参数是属性（记得加引号），第三个是改变后的值\r\n\t\t\t\t\t\tthis.$set(this.detailData, 'thumb_num', (this.detailData.thumb_num + 1))\r\n\t\t\t\t\t\tthis.$set(this.detailData, 'is_thumb', 1)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '点赞成功',\r\n\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else { // 反之\r\n\t\t\t\t\t\tthis.$set(this.detailData, 'thumb_num', (this.detailData.thumb_num - 1))\r\n\t\t\t\t\t\tthis.$set(this.detailData, 'is_thumb', 2)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '已取消点赞',\r\n\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//打开三个点的操作\r\n\t\t\tactionMore: function(option){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet temp_is_collection = option.is_collection;\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: [option.is_collection == 2?'收藏该内容':'取消收藏该内容', '举报'],\r\n\t\t\t\t\titemColor:'#f89f12',\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t// console.log(res.tapIndex);\r\n\t\t\t\t\t\tif(res.tapIndex == 0){\r\n\t\t\t\t\t\t\tlet _that = that;\r\n\t\t\t\t\t\t\t(async function(){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tawait _that.$store.dispatch('toCollection',{\r\n\t\t\t\t\t\t\t\t\tid:option.id\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(_that.$store.state.is_collection_true == true){ // 表示调用接口成功\r\n\t\t\t\t\t\t\t\t\tif (temp_is_collection == 2) {\r\n\t\t\t\t\t\t\t\t\t\t// 使用$set响应的改变对象数据，第一个参数是对象本身，第二个参数是属性（记得加引号），第三个是改变后的值\r\n\t\t\t\t\t\t\t\t\t\t_that.$set(_that.detailData, 'is_collection', 1)\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '收藏成功',\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t_that.$set(_that.detailData, 'is_collection', 2)\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '已取消收藏',\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})()\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '举报成功',\r\n\t\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function (res) {\r\n\t\t\t\t\t\t// console.log(res.errMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 邀请/组队按钮\r\n\t\t\tzuduiButtons: async function(option) {\r\n\t\t\t\tif (option.type == 1) { // 1表示是组队的按钮\r\n\t\t\t\t\t// 这是保存一下当前本人的加入状态，用于判断最后本地是显示加入还是退出\r\n\t\t\t\t\tlet temp_is_entry = option.is_entry;\r\n\t\t\t\t\tawait this.$store.dispatch('toEntry', {\r\n\t\t\t\t\t\tid: option.id,\r\n\t\t\t\t\t\tis_entry: option.is_entry\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// console.log('this.$store.state.is_entry_true ',this.$store.state.is_entry_true );\r\n\t\t\t\t\tif (this.$store.state.is_entry_true == true) { // 表示接口调用成功了\r\n\t\t\t\t\t\tif (temp_is_entry == 2) {\r\n\t\t\t\t\t\t\t// 使用$set响应的改变对象数据，第一个参数是对象本身，第二个参数是属性（记得加引号），第三个是改变后的值\r\n\t\t\t\t\t\t\tthis.$set(this.detailData, 'entry_num', (this.detailData.entry_num + 1))\r\n\t\t\t\t\t\t\tthis.$set(this.detailData, 'is_entry', 1)\r\n\t\t\t\t\t\t\t// 添加本人到组队成员（主要是为了显示头像）\r\n\t\t\t\t\t\t\tthis.detailData.members.push({\r\n\t\t\t\t\t\t\t\tid: this.$store.state.theLogonUser.id,\r\n\t\t\t\t\t\t\t\tnick_name: this.$store.state.theLogonUser.nick_name,\r\n\t\t\t\t\t\t\t\tavatar_url: this.$store.state.theLogonUser.avatar_url\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '加入成功',\r\n\t\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$set(this.detailData, 'entry_num', (this.detailData.entry_num - 1))\r\n\t\t\t\t\t\t\tthis.$set(this.detailData, 'is_entry', 2)\r\n\t\t\t\t\t\t\t// 去掉组队成员中的头像\r\n\t\t\t\t\t\t\tfor (let i = 0; i < this.detailData.members.length; i++) {\r\n\t\t\t\t\t\t\t\t// 通过id找到要去掉的成员（本人）的索引位置\r\n\t\t\t\t\t\t\t\tif (this.$store.state.theLogonUser.id == this.detailData.members[i].id) {\r\n\t\t\t\t\t\t\t\t\tthis.detailData.members.splice(i, 1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '已退出组队',\r\n\t\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//---------------------------------------------------------------服务端接口---------------------------------------------------------------\r\n\t\t\t//---------------------------------------------------------------服务端接口---------------------------------------------------------------\r\n\t\t\t//---------------------------------------------------------------服务端接口---------------------------------------------------------------\r\n\t\t\t// 分页获取评论接口\r\n\t\t\tgetCommentList: function() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\tlet that = _this;\r\n\t\t\t\t\tthat.isLoading = 'loading'; // 加载中\r\n\t\t\t\t\t// 判断是否是最后一页了\r\n\t\t\t\t\tif (that.theComments.length < that.totalCount) {\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: that.$store.state.theUrl + '/wechat/moments/getCommentList',\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\ttoken: that.$store.state.theToken\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tpage: that.theGetCommentListPage,\r\n\t\t\t\t\t\t\t\tpagesize: that.theGetCommentListPagesize,\r\n\t\t\t\t\t\t\t\tmoments_id: that.detailData.id\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t// console.log('getCommentList', res);\r\n\t\t\t\t\t\t\t\tlet _that = that;\r\n\t\t\t\t\t\t\t\t// 如果是请求第一页，证明是首次请求，就重置一下\r\n\t\t\t\t\t\t\t\tif (_that.theGetCommentListPage == 1) {\r\n\t\t\t\t\t\t\t\t\t_that.theComments = [];\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t_that.totalCount = res.data.count ;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\t\t\t\tfor (let i = 0; i < res.data.data.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\t_that.theComments.push(res.data.data[i])\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t_that.theGetCommentListPage += 1;\r\n\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t} else if (res.data.code == 500) {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '服务器连接失败，请反馈官方客服哦~',\r\n\t\t\t\t\t\t\t\t\t\tduration: 2500,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t} else if (res.data.code == 410) {\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '温馨提示：',\r\n\t\t\t\t\t\t\t\t\t\tcontent: '当前登录身份已过期，点击“重新登录”继续吧~',\r\n\t\t\t\t\t\t\t\t\t\tconfirmText: '重新登录',\r\n\t\t\t\t\t\t\t\t\t\tconfirmColor: '#f89f12',\r\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet __that = _that;\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 异步转同步，\r\n\t\t\t\t\t\t\t\t\t\t\t\t(async function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// 登录\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tawait __that.$store.dispatch('toLogon', {});\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t__that.getCommentList();\r\n\t\t\t\t\t\t\t\t\t\t\t\t})()\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\tduration: 2500,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\t\t\tconsole.log(333);\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '网络失败，请重试！多次无效后，反馈官方客服哦！',\r\n\t\t\t\t\t\t\t\t\tduration: 2500,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 发布评论接口\r\n\t\t\ttoComment: function() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\tlet that = _this;\r\n\t\t\t\t\t// 判断如果是空字符串，证明是首次加载进来，不应该调用接口\r\n\t\t\t\t\tif (that.theInputComment != '') {\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: that.$store.state.theUrl + '/wechat/moments/comment',\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\ttoken: that.$store.state.theToken\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tmsg: that.theInputComment,\r\n\t\t\t\t\t\t\t\tmoments_id: that.detailData.id\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t// console.log('toComment', res);\r\n\t\t\t\t\t\t\t\tlet _that = that;\r\n\r\n\t\t\t\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\t\t\t\t_that.theComments.unshift({\r\n\t\t\t\t\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\t\t\t\t\tmoments_id: _that.detailData.id,\r\n\t\t\t\t\t\t\t\t\t\tmsg: _that.theInputComment,\r\n\t\t\t\t\t\t\t\t\t\tcreate_id: _that.$store.state.theLogonUser.id,\r\n\t\t\t\t\t\t\t\t\t\tcreated_at: \"刚刚\",\r\n\t\t\t\t\t\t\t\t\t\tthumb_num: 0,\r\n\t\t\t\t\t\t\t\t\t\tis_thumb: 2, // 本人是否点赞过 1是2否\r\n\t\t\t\t\t\t\t\t\t\tnick_name: _that.$store.state.theLogonUser.nick_name,\r\n\t\t\t\t\t\t\t\t\t\tavatar_url: _that.$store.state.theLogonUser.avatar_url,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t// 重置\r\n\t\t\t\t\t\t\t\t\t_that.theInputComment = '';\r\n\r\n\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t} else if (res.data.code == 500) {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '服务器连接失败，请反馈官方客服哦~',\r\n\t\t\t\t\t\t\t\t\t\tduration: 2500,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t} else if (res.data.code == 410) {\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '温馨提示：',\r\n\t\t\t\t\t\t\t\t\t\tcontent: '当前登录身份已过期，点击“重新登录”继续吧~',\r\n\t\t\t\t\t\t\t\t\t\tconfirmText: '重新登录',\r\n\t\t\t\t\t\t\t\t\t\tconfirmColor: '#f89f12',\r\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet __that = _that;\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 异步转同步，\r\n\t\t\t\t\t\t\t\t\t\t\t\t(async function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// 登录\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tawait __that.$store.dispatch('toLogon', {});\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// 获取省市数据\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t__that.toComment();\r\n\t\t\t\t\t\t\t\t\t\t\t\t})()\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\tduration: 2500,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '网络失败，请重试！多次无效后，反馈官方客服哦！',\r\n\t\t\t\t\t\t\t\t\tduration: 2500,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '评论内容不能为空哦~',\r\n\t\t\t\t\t\t\tduration: 2500,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 评论点赞取消\r\n\t\t\tcommentThumb: function(item, index) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet tempItem = item;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: that.$store.state.theUrl + '/wechat/moments/commentThumb',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\ttoken: that.$store.state.theToken\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcomment_id: item.id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t// console.log('commentThumb', res);\r\n\t\t\t\t\t\tlet _that = that;\r\n\r\n\t\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\t\tif (tempItem.is_thumb == 2) {\r\n\t\t\t\t\t\t\t\t_that.theComments[index].is_thumb = 1;\r\n\t\t\t\t\t\t\t\t_that.theComments[index].thumb_num += 1;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_that.theComments[index].is_thumb = 2;\r\n\t\t\t\t\t\t\t\t_that.theComments[index].thumb_num -= 1;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else if (res.data.code == 500) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '服务器连接失败，请反馈官方客服哦~',\r\n\t\t\t\t\t\t\t\tduration: 2500,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t} else if (res.data.code == 410) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '温馨提示：',\r\n\t\t\t\t\t\t\t\tcontent: '当前登录身份已过期，点击“重新登录”继续吧~',\r\n\t\t\t\t\t\t\t\tconfirmText: '重新登录',\r\n\t\t\t\t\t\t\t\tconfirmColor: '#f89f12',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tlet __that = _that;\r\n\t\t\t\t\t\t\t\t\t\t// 异步转同步，\r\n\t\t\t\t\t\t\t\t\t\t(async function() {\r\n\t\t\t\t\t\t\t\t\t\t\t// 登录\r\n\t\t\t\t\t\t\t\t\t\t\tawait __that.$store.dispatch('toLogon', {});\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t// 获取省市数据\r\n\t\t\t\t\t\t\t\t\t\t\t__that.commentThumb();\r\n\t\t\t\t\t\t\t\t\t\t})()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\tduration: 2500,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '网络失败，请重试！多次无效后，反馈官方客服哦！',\r\n\t\t\t\t\t\t\tduration: 2500,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t::-webkit-scrollbar {\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t}\r\n\r\n\t.content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\toverflow: scroll;\r\n\t\tbackground-color: #ffffff;\r\n\t}\r\n\r\n\t.posts-data {\r\n\t\twidth: 100vw;\r\n\t}\r\n\r\n\t.space-line {\r\n\t\twidth: 100vw;\r\n\t\theight: 10px;\r\n\t\tbackground-color: #fafafa;\r\n\t}\r\n\r\n\t.comment {\r\n\t\twidth: 100vw;\r\n\t\tmargin-bottom: 15px;\r\n\t\tbackground-color: #ffffff;\r\n\t}\r\n\r\n\t.comment-title {\r\n\t\tpadding-left: 4.5vw;\r\n\t\tmargin-top: 15px;\r\n\t\tfont-size: 15px;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.comment-one {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: flex-start;\r\n\t\tpadding: 15px 3.5vw 0 3.5vw;\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n\r\n\t.comment-one-avatar {\r\n\t\t/* border: #111111 1px solid; */\r\n\t\tborder-radius: 100%;\r\n\t\twidth: 11.5vw;\r\n\t\theight: 11.5vw;\r\n\t\tpadding: 0 !important;\r\n\t\tbackground-repeat: no-repeat !important;\r\n\t\tbackground-size: cover !important;\r\n\t}\r\n\r\n\t.comment-one-content {\r\n\t\twidth: 88.5vw;\r\n\t\tpadding-left: 3.5vw;\r\n\t}\r\n\r\n\t.comment-one-content-line-1 {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.comment-one-content-line-1-left {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.left-name {\r\n\t\tfont-size: 14px !important;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.left-time {\r\n\t\tmargin-left: 3.5vw;\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #bbbbbb;\r\n\t}\r\n\r\n\t.comment-one-content-line-1-right {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.right-num {\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #727272;\r\n\t}\r\n\r\n\t.comment-one-content-line-2 {\r\n\t\tfont-size: 13px !important;\r\n\t\tcolor: #727272;\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t.space-line-bottom {\r\n\t\theight: 100px;\r\n\t}\r\n\r\n\t.comment-input {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tz-index: 999;\r\n\t\tpadding-left: 3.5vw;\r\n\t\tpadding-right: 3.5vw;\r\n\t\tpadding-top: 10px;\r\n\t\tpadding-bottom: 3.5vw;\r\n\t\tbackground-color: #ffffff;\r\n\t\twidth: 93vw;\r\n\t}\r\n\r\n\t.comment-button {\r\n\t\twidth: 75px;\r\n\t\theight: 35px;\r\n\t\tline-height: 35px;\r\n\t\tbackground-color: #ff812f;\r\n\t\tcolor: #ffffff;\r\n\t\tborder-radius: 100px;\r\n\t\ttext-align: center;\r\n\t\tmargin-left: 10px;\r\n\t}\r\n</style>","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1714958198196\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}