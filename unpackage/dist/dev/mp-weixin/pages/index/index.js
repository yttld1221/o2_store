(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/index/index"],{

/***/ 178:
/*!*******************************************************************!*\
  !*** D:/ouying/o2_store/main.js?{"page":"pages%2Findex%2Findex"} ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(wx, createPage) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
__webpack_require__(/*! uni-pages */ 26);
__webpack_require__(/*! @dcloudio/vue-cli-plugin-uni/packages/uni-push/dist/uni-push.es.js */ 27);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 25));
var _index = _interopRequireDefault(__webpack_require__(/*! ./pages/index/index.vue */ 179));
// @ts-ignore
wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;
;
createPage(_index.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"], __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["createPage"]))

/***/ }),

/***/ 179:
/*!************************************************!*\
  !*** D:/ouying/o2_store/pages/index/index.vue ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.vue?vue&type=template&id=57280228& */ 180);
/* harmony import */ var _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.vue?vue&type=script&lang=js& */ 182);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.vue?vue&type=style&index=0&lang=scss& */ 184);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 39);

var renderjs





/* normalize component */

var component = Object(_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["render"],
  _index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/index/index.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 180:
/*!*******************************************************************************!*\
  !*** D:/ouying/o2_store/pages/index/index.vue?vue&type=template&id=57280228& ***!
  \*******************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228& */ 181);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 181:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/ouying/o2_store/pages/index/index.vue?vue&type=template&id=57280228& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
try {
  components = {
    uIcon: function () {
      return Promise.all(/*! import() | uni_modules/uview-ui/components/u-icon/u-icon */[__webpack_require__.e("common/vendor"), __webpack_require__.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(__webpack_require__.bind(null, /*! @/uni_modules/uview-ui/components/u-icon/u-icon.vue */ 454))
    },
    uniIcons: function () {
      return Promise.all(/*! import() | uni_modules/uni-icons/components/uni-icons/uni-icons */[__webpack_require__.e("common/vendor"), __webpack_require__.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(__webpack_require__.bind(null, /*! @/uni_modules/uni-icons/components/uni-icons/uni-icons.vue */ 463))
    },
    postTypeZudui: function () {
      return __webpack_require__.e(/*! import() | uni_modules/post-type-zudui/components/post-type-zudui/post-type-zudui */ "uni_modules/post-type-zudui/components/post-type-zudui/post-type-zudui").then(__webpack_require__.bind(null, /*! @/uni_modules/post-type-zudui/components/post-type-zudui/post-type-zudui.vue */ 471))
    },
    uSearch: function () {
      return Promise.all(/*! import() | uni_modules/uview-ui/components/u-search/u-search */[__webpack_require__.e("common/vendor"), __webpack_require__.e("uni_modules/uview-ui/components/u-search/u-search")]).then(__webpack_require__.bind(null, /*! @/uni_modules/uview-ui/components/u-search/u-search.vue */ 478))
    },
    uniLoadMore: function () {
      return Promise.all(/*! import() | uni_modules/uni-load-more/components/uni-load-more/uni-load-more */[__webpack_require__.e("common/vendor"), __webpack_require__.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more")]).then(__webpack_require__.bind(null, /*! @/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue */ 486))
    },
    tabBar: function () {
      return Promise.all(/*! import() | uni_modules/tab-Bar/components/tab-Bar/tab-Bar */[__webpack_require__.e("common/vendor"), __webpack_require__.e("uni_modules/tab-Bar/components/tab-Bar/tab-Bar")]).then(__webpack_require__.bind(null, /*! @/uni_modules/tab-Bar/components/tab-Bar/tab-Bar.vue */ 497))
    },
  }
} catch (e) {
  if (
    e.message.indexOf("Cannot find module") !== -1 &&
    e.message.indexOf(".vue") !== -1
  ) {
    console.error(e.message)
    console.error("1. 排查组件名称拼写是否正确")
    console.error(
      "2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"
    )
    console.error(
      "3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件"
    )
  } else {
    throw e
  }
}
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var m0 = Number(_vm.statusBarHeight + _vm.navBarHeight + _vm.schoolHeight)
  var g0 =
    _vm.theAddress.title != undefined ? _vm.theAddress.title.length : null
  var g1 =
    _vm.theAddress.title != undefined && !(g0 < 4)
      ? _vm.theAddress.title.substring(0, 3)
      : null
  var g2 =
    _vm.theTitleIndex == 1 && _vm.theSchool.title != ""
      ? _vm.theSchool.title.length
      : null
  var g3 =
    _vm.theTitleIndex == 1 && _vm.theSchool.title != "" && !(g2 < 5)
      ? _vm.theSchool.title.substring(0, 4)
      : null
  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        m0: m0,
        g0: g0,
        g1: g1,
        g2: g2,
        g3: g3,
      },
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 182:
/*!*************************************************************************!*\
  !*** D:/ouying/o2_store/pages/index/index.vue?vue&type=script&lang=js& ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */ 183);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 183:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--13-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/ouying/o2_store/pages/index/index.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ 41));
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ 43));
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
var types = function types() {
  __webpack_require__.e(/*! require.ensure | pages/index/components/types */ "pages/index/components/types").then((function () {
    return resolve(__webpack_require__(/*! ./components/types.vue */ 512));
  }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
};
var _default = {
  components: {
    types: types
  },
  data: function data() {
    return {
      inviteId: "",
      contentHeight: 0,
      tabArr: [],
      momentType: "",
      theLevel: 0,
      contentText: {
        contentdown: "查看更多",
        contentrefresh: "加载中...",
        contentnomore: "到底了，可点击此处手动加载~"
      },
      // 最后的加载组件的加载动画效果，
      isLoading: "loading",
      // 当前获取的校园墙页码，每次需要+1
      theGetMomentsListPage: 1,
      theGetMomentsListPagesize: 10,
      titleName: ["首页", "校园墙"],
      theTitleIndex: 1,
      schoolOneTitleIndex: 0,
      // 顶部状态栏
      statusBarHeight: 0,
      // 导航标题栏
      navBarHeight: 0,
      // 底部tabbar高度
      tabBarHeight: 0,
      // 搜索输入框内容
      searchInputText: "",
      // 获取焦点时候的输入框的高度，主要是给置顶的bottom用，就是键盘高度
      inputBottomHeight: 0,
      //
      titles: ["综合", "话题", "组队/搭子", "分享/安利", "兼职", "表白", "求助", "其他"],
      tempTitles: ["综合", "话题"],
      textWidths: 0,
      // 注意这个临时地址主要是为了给首页判断的，当选择完地址后，这里要通过这个判断是否变更了地址，如果改变了，则需要重新获取数据的
      tempAddressTitle: "",
      tempSchoolTitle: "",
      // 当前所在地址
      theAddress: {
        title: "",
        status: 0,
        code: ""
      },
      theSchool: {
        id: 1,
        title: "",
        status: 1,
        addr: "",
        create_id: 1,
        update_id: 1
      },
      currentIndex: 0,
      school_datas: [],
      schoolHeight: 0
    };
  },
  onLoad: function onLoad() {
    var _this2 = this;
    // --------------------------------------------------------------处理初始状态--------------------------------------------------------------
    // --------------------------------------------------------------处理初始状态--------------------------------------------------------------
    // --------------------------------------------------------------处理初始状态--------------------------------------------------------------
    // 获取状态栏高度
    this.getTopIconDistance();
    // 加载的时候保留一下当前的地址
    // 就是为了后续判断是否变更过（跳转二级页面返回的时候需要判断）
    this.tempAddressTitle = this.$store.state.store_addressNow.title;
    this.tempSchoolTitle = this.$store.state.store_schoolNow.title;

    // 获取本地地址（如果有的话），并传给全局变量中
    var storage_addressNow = this.getStorageSync("storage_addressNow");
    this.$store.commit("changeStore_addressNow", {
      tempSelectedAddress: storage_addressNow
    });
    var query = uni.createSelectorQuery().in(this);
    query.select(".school").boundingClientRect(function (data) {
      _this2.schoolHeight = data.height;
    }).exec();
    this.getShopType();
    uni.$on("changeIndexArea", /*#__PURE__*/function () {
      var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(data) {
        return _regenerator.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _this2.theSchool = {
                  id: 0,
                  title: "",
                  status: 1,
                  addr: "",
                  create_id: 1,
                  update_id: 1
                };
                _this2.$store.commit("changeStore_schoolNow", {
                  id: 0,
                  title: "",
                  status: 1,
                  addr: "",
                  create_id: 1,
                  update_id: 1
                });
                // 重置一下，需要重新获取数据，那么页码和容器都要重置
                _this2.theGetMomentsListPage = 1;
                _this2.school_datas = [];
                // 接口调用
                if (!(_this2.theTitleIndex == 1)) {
                  _context.next = 9;
                  break;
                }
                _context.next = 7;
                return _this2.getMomentsList("area");
              case 7:
                _context.next = 12;
                break;
              case 9:
                _context.next = 11;
                return _this2.initShop();
              case 11:
                _this2.tempAddressTitle = _this2.theAddress.title;
              case 12:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));
      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());
    uni.$on("changeIndexSchool", /*#__PURE__*/function () {
      var _ref2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(data) {
        return _regenerator.default.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _this2.theGetMomentsListPage = 1;
                _this2.school_datas = [];
                _context2.next = 4;
                return _this2.getMomentsList("school");
              case 4:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2);
      }));
      return function (_x2) {
        return _ref2.apply(this, arguments);
      };
    }());
    uni.$on("publishSchool", /*#__PURE__*/function () {
      var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(data) {
        return _regenerator.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _this2.$refs.theMessage.pubLish();
                _this2.theTitleIndex = 1;
                _this2.theGetMomentsListPage = 1;
                _this2.school_datas = [];
                _context3.next = 6;
                return _this2.getMomentsList();
              case 6:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3);
      }));
      return function (_x3) {
        return _ref3.apply(this, arguments);
      };
    }());
  },
  //分享按钮
  onShareAppMessage: function onShareAppMessage(e) {
    console.log(e, this.inviteId);
    if (e.from == "button") {
      return {
        title: this.inviteId.title,
        path: "/pages/index/detail?id=".concat(this.inviteId.id),
        imageUrl: this.inviteId.url ? this.inviteId.url.split(",")[0] : "/static/icon-zd.png"
      };
    }
  },
  onShow: function onShow() {
    this.theLevel = this.$store.state.theLogonUser.level;
    // 判断一下，防止重复登录
    // if(this.$store.state.theLogonUser.id == 0){
    // 	this.$store.dispatch('toLogon', {});
    // }

    // 记录当前的previousPage，用于二次点击发布回到原来页面
    this.$store.commit("changePreviousPage", {
      previousPage: 0,
      isPage_2: false
    });

    // 从全局中，获取地址和学校（这里特意放在onshow中，便于首次或者从地址页面返回的时候都会触发）
    this.theAddress = this.$store.state.store_addressNow;
    this.theSchool = this.$store.state.store_schoolNow;

    // 地址为空，就弹窗提示选择地址
    var that = this;

    // console.log('that.theAddress.title',that.theAddress.title);
    if (that.theAddress.title == "" || that.theAddress.title == undefined) {
      // 表示当前地址为空，可能是用户第一次打开小程序，没有本地缓存数据
      uni.showModal({
        title: "温馨提示：",
        content: "您当前还没有选择地区，点击“前往”将前往地区选择哦~",
        confirmText: "前往",
        confirmColor: "#f89f12",
        showCancel: false,
        success: function success(res) {
          if (res.confirm) {
            that.toAddress();
          }
        }
      });
    }
  },
  // 监听下拉动作
  onPullDownRefresh: function onPullDownRefresh() {
    var that = this;
    // 重置获取的页码
    that.theGetMomentsListPage = 1;
    // 重置搜索文本
    that.searchInputText = "";
    // 重置数组
    that.school_datas = [];
    // 异步转同步调用
    (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {
      return _regenerator.default.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              if (!(that.theTitleIndex == 1)) {
                _context4.next = 5;
                break;
              }
              _context4.next = 3;
              return that.getMomentsList();
            case 3:
              _context4.next = 7;
              break;
            case 5:
              _context4.next = 7;
              return that.initShop();
            case 7:
              // 等待接口返回后，取消下拉刷新动画
              uni.stopPullDownRefresh();
            case 8:
            case "end":
              return _context4.stop();
          }
        }
      }, _callee4);
    }))();
  },
  // 页面触底的监听事件，配合pages.json中的"onReachBottomDistance": 0，0的位置写距离底部的距离
  onReachBottom: function onReachBottom() {
    // 触底后动画效果开启
    this.isLoading = "loading";
    if (this.theTitleIndex == 1) {
      this.getMomentsList();
    } else {
      this.initShop();
    }
    // 调用接口
  },

  methods: {
    // 跳转搜索
    toSearch: function toSearch() {
      uni.navigateTo({
        url: "/page_product/pages/search/index"
      });
    },
    // 跳转详情
    goDetail: function goDetail(item) {
      uni.navigateTo({
        url: "/page_product/pages/product/detail?id=" + item.id
      });
    },
    // 加载更多
    loadMore: function loadMore() {
      if (this.theTitleIndex == 1) {
        this.getMomentsList();
      } else {
        this.initShop();
      }
    },
    // 初始化数据
    initData: function initData() {
      var _this3 = this;
      (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5() {
        return _regenerator.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                _this3.theGetMomentsListPage = 1;
                _this3.school_datas = [];
                _context5.next = 4;
                return _this3.getMomentsList();
              case 4:
                _this3.tempAddressTitle = _this3.$store.state.store_addressNow.title;
              case 5:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5);
      }))();
    },
    initShop: function initShop() {
      var _this4 = this;
      this.isLoading = "loading"; // 加载中
      var param = {
        page: this.theGetMomentsListPage,
        pagesize: this.theGetMomentsListPagesize,
        category_id: this.momentType,
        is_hot: this.momentType == 0 ? 1 : 0,
        is_product: 1,
        // // 行政区划编码，选定的最低一级区域的编码，空字符串是全部
        area_code: this.$store.state.store_addressNow.code
      };
      this.API.home.getTaskList(param).then(function (res) {
        console.log(res);
        // 如果是请求第一页，证明是首次请求，就重置一下
        if (_this4.theGetMomentsListPage == 1) {
          _this4.school_datas = [];
        }
        if (res.data.length != 0) {
          for (var i = 0; i < res.data.length; i++) {
            _this4.school_datas.push(_objectSpread(_objectSpread({}, res.data[i]), {}, {
              img_url: res.data[i].img_url ? res.data[i].img_url.split(",")[0] : ""
            }));
          }
          _this4.isLoading = "no-more"; // 取消加载动画
          // 页面+1
          _this4.theGetMomentsListPage += 1;
        } else {
          _this4.isLoading = "no-more"; // 取消加载动画
        }

        console.log(_this4.school_datas);
      }).catch( /*#__PURE__*/function () {
        var _ref6 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6(err) {
          return _regenerator.default.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  if (!(err.code == 410)) {
                    _context6.next = 4;
                    break;
                  }
                  _context6.next = 3;
                  return _this4.$store.dispatch("toLogon", {});
                case 3:
                  _this4.initShop();
                case 4:
                case "end":
                  return _context6.stop();
              }
            }
          }, _callee6);
        }));
        return function (_x4) {
          return _ref6.apply(this, arguments);
        };
      }());
    },
    getShopType: function getShopType() {
      var _this5 = this;
      if (this.theTitleIndex == 1) {
        this.initData();
      } else {
        this.$nextTick(function () {
          var query = uni.createSelectorQuery().in(_this5);
          query.select(".home-search").boundingClientRect(function (data) {
            _this5.contentHeight = data.height;
          }).exec();
        });
        this.API.home.getAllMenu({}).then(function (res) {
          console.log(res);
          _this5.tabArr = [{
            name: "精选",
            id: 0
          }];
          //所有分类
          // res.data.forEach((el) => {
          // 	el.children.forEach(item=>{
          // 		this.tabArr.push({ name:item.title=='全部'?el.title:item.title, id: item.id });
          // 	})
          // });
          res.data.forEach(function (el) {
            if (el.category_id > 0) {
              _this5.tabArr.push({
                name: el.title,
                id: el.category_id
              });
            }
          });
          if (_this5.tabArr.length) {
            _this5.theGetMomentsListPage = 1;
            _this5.school_datas = [];
            _this5.momentType = _this5.tabArr[0].id;
            _this5.initShop();
          }
        }).catch( /*#__PURE__*/function () {
          var _ref7 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7(err) {
            return _regenerator.default.wrap(function _callee7$(_context7) {
              while (1) {
                switch (_context7.prev = _context7.next) {
                  case 0:
                    console.log(err);
                    if (!(err.code == 410)) {
                      _context7.next = 8;
                      break;
                    }
                    _context7.next = 4;
                    return _this5.$store.dispatch("toLogon", {});
                  case 4:
                    _context7.next = 6;
                    return _this5.getShopType();
                  case 6:
                    _this5.tempAddressTitle = _this5.$store.state.store_addressNow.title;
                    _this5.tempSchoolTitle = _this5.$store.state.store_schoolNow.title;
                  case 8:
                  case "end":
                    return _context7.stop();
                }
              }
            }, _callee7);
          }));
          return function (_x5) {
            return _ref7.apply(this, arguments);
          };
        }());
      }
    },
    changeTab: function changeTab(item) {
      console.log(item);
      this.currentIndex = item.currentIndex;
      this.theGetMomentsListPage = 1;
      this.school_datas = [];
      this.momentType = item.id;
      this.initShop();
    },
    // 消息动画
    animtionAction: function animtionAction() {
      var that = this;
      var animtionActionInter = setInterval(function () {
        that.$refs.theMessage.animtionAction();
      }, 1000);
      that.$store.commit("changeRedTip", {
        isRedTip: true
      });
      setTimeout(function () {
        clearInterval(animtionActionInter);
      }, 5000);
    },
    // 浏览器本地存储和删除
    setStorageSync: function setStorageSync(key, data) {
      try {
        uni.setStorageSync(key, data);
      } catch (e) {
        uni.showToast({
          title: e,
          duration: 2500,
          icon: "none"
        });
      }
    },
    getStorageSync: function getStorageSync(key) {
      try {
        var value = uni.getStorageSync(key);
        return value;
      } catch (e) {
        uni.showToast({
          title: e,
          duration: 2500,
          icon: "none"
        });
      }
    },
    // ---------------------------------------------------页面方法---------------------------------------------------
    // ---------------------------------------------------页面方法---------------------------------------------------
    // ---------------------------------------------------页面方法---------------------------------------------------
    // 获取状态栏高度
    getTopIconDistance: function getTopIconDistance() {
      var _this6 = this;
      uni.getSystemInfo({
        success: function success(res) {
          // 获取手机顶部状态栏的高度
          _this6.statusBarHeight = res.statusBarHeight || 0;

          // 获取导航栏的高度（手机状态栏高度 + 胶囊高度 + 胶囊的上下间距）
          var menuButtonInfo = uni.getMenuButtonBoundingClientRect();
          _this6.navBarHeight = menuButtonInfo.height + (menuButtonInfo.top - _this6.statusBarHeight) * 2;
          _this6.tabBarHeight = res.screenHeight - res.safeArea.bottom;

          // 设置全局变量
          _this6.$store.commit("changeNavBarHeight", {
            statusBarHeight: _this6.statusBarHeight,
            navBarHeight: _this6.navBarHeight,
            tabBarHeight: _this6.tabBarHeight
          });
        },
        fail: function fail(err) {}
      });
    },
    // 获取键盘高度
    // 这里主要解决键盘弹出的时候，会顶掉input内容上移，通过 adjust-position 属性控制不上移，但是会不显示
    // 所以，需要写一个自动在键盘顶部显示的内容层
    inputBindFocus: function inputBindFocus(e) {
      this.inputBottomHeight = e.detail.height;
    },
    inputBindBlur: function inputBindBlur() {
      this.inputBottomHeight = 0;
    },
    // 选择首页或校园墙的界面
    toTitleOne: function toTitleOne(index) {
      // this.animtionAction();
      this.theTitleIndex = index;
      var that = this;
      // 重置获取的页码
      that.theGetMomentsListPage = 1;
      // 重置搜索文本
      that.searchInputText = "";
      // 重置数组
      that.school_datas = [];
      if (index == 0) {
        if (that.tabArr.length) {
          that.momentType = that.tabArr[0].id;
          that.initShop();
        } else {
          that.getShopType();
        }
      } else {
        that.getMomentsList();
      }
    },
    // 选择标签（校园墙）
    choiseOneTitle: function choiseOneTitle(index) {
      this.schoolOneTitleIndex = index;
      var that = this;
      // 重置获取的页码
      that.theGetMomentsListPage = 1;
      // 重置数组
      that.school_datas = [];
      that.getMomentsList();
    },
    // 清空输入框
    emptyInput: function emptyInput(type) {
      if (type = "searchInputText") {
        this.searchInputText = "";
      }
    },
    //------------------------------------------------  页面跳转  -----------------------------------------------------
    //------------------------------------------------  页面跳转  -----------------------------------------------------
    //------------------------------------------------  页面跳转  -----------------------------------------------------
    // 跳转地址选择
    toAddress: function toAddress() {
      uni.navigateTo({
        // type=index 表示是index页面过来的
        url: "/pages/index/address?type=index"
      });
    },
    // 跳转学校选择
    toSchool: function toSchool() {
      uni.navigateTo({
        url: "/pages/index/school"
      });
    },
    // 跳转详情页
    toDetail: function toDetail(id) {
      uni.navigateTo({
        url: "/pages/index/detail?id=" + id
      });
    },
    // 跳转主页
    topPerSonalhome: function topPerSonalhome(option) {
      if (option.is_anonymous == 2) {
        // 不匿名
        uni.navigateTo({
          url: "/pages/follow/personalhome?id=" + option.id
        });
      } else {
        uni.showToast({
          title: "这个人很神秘，不想让你看到TA的主页~",
          duration: 2500,
          icon: "none"
        });
      }
    },
    //------------------------------------------------  接口方法  -----------------------------------------------------
    //------------------------------------------------  接口方法  -----------------------------------------------------
    //------------------------------------------------  接口方法  -----------------------------------------------------
    // 分页获取接口数据
    getMomentsList: function getMomentsList() {
      var getType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
      var _this = this;
      return new Promise(function (resolve, reject) {
        var that = _this;
        that.isLoading = "loading"; // 加载中
        // 判断如果是空字符串，证明是首次加载进来，不应该调用接口
        if (that.$store.state.store_addressNow.title != "") {
          uni.request({
            url: that.$store.state.theUrl + "/wechat/moments/getMomentsList",
            method: "POST",
            header: {
              token: that.$store.state.theToken
            },
            data: {
              // 传参不全，当前只用到onload时候需要的字段
              page: that.theGetMomentsListPage,
              pagesize: that.theGetMomentsListPagesize,
              // 校园墙类型：话题、组队/搭子、分享/安利、二手闲置、兼职、表白、求助、其他，传空字符串为全部
              // schoolOneTitleIndex == 0 表示是综合，就是全部的意思，所以传空
              type: that.schoolOneTitleIndex == 0 ? "" : that.titles[that.schoolOneTitleIndex],
              // type: "",

              // 搜索字段，默认是个空
              title: that.searchInputText,
              // // 当前选中的学校id
              school_id: that.$store.state.store_schoolNow.id,
              // // 行政区划编码，选定的最低一级区域的编码，空字符串是全部
              area_code: that.$store.state.store_addressNow.code
            },
            success: function success(res) {
              // console.log('getMomentsList_res', res);
              var _that = that;
              // 如果是请求第一页，证明是首次请求，就重置一下
              if (_that.theGetMomentsListPage == 1) {
                _that.school_datas = [];
              }
              if (getType == "area") {
                _that.tempAddressTitle = _that.theAddress.title;
              } else if (getType == "school") {
                _that.tempSchoolTitle = _that.$store.state.store_schoolNow.title;
              }
              if (res.data.code == 0) {
                if (res.data.data.length != 0) {
                  if (_that.titles[_that.schoolOneTitleIndex] != "分享/安利") {
                    res.data.data = res.data.data.filter(function (el) {
                      return el.type != "分享/安利";
                    });
                  }
                  for (var i = 0; i < res.data.data.length; i++) {
                    _that.school_datas.push(_objectSpread(_objectSpread({}, res.data.data[i]), {}, {
                      img_url: res.data.data[i].url ? res.data.data[i].url.split(",")[0] : ""
                    }));
                  }
                  _that.isLoading = "no-more"; // 取消加载动画
                  // console.log('_that.addressData',_that.addressData);
                  // 页面+1
                  _that.theGetMomentsListPage += 1;
                  _that.tempAddressTitle = _that.theAddress.title;
                  resolve();
                } else {
                  _that.isLoading = "no-more"; // 取消加载动画
                  // uni.showToast({
                  // 	title: '没有更多了哦~',
                  // 	duration: 1500,
                  // 	icon: 'none'
                  // })
                  resolve();
                }
              } else if (res.data.code == 500) {
                uni.showToast({
                  title: "服务器连接失败，请反馈官方客服哦~",
                  duration: 2500,
                  icon: "none"
                });
              } else if (res.data.code == 410) {
                var __that = _that;
                (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {
                  return _regenerator.default.wrap(function _callee8$(_context8) {
                    while (1) {
                      switch (_context8.prev = _context8.next) {
                        case 0:
                          _context8.next = 2;
                          return __that.$store.dispatch("toLogon", {});
                        case 2:
                          /*
                          // 连接WSS
                          uni.connectSocket({
                          url: 'wss://school.izekai.cn/wss',
                          });
                          				// 打开监听  
                          uni.onSocketOpen(function (res) {
                          // 登录
                          // 测试号数据存一下
                          // wss://school.izekai.cn/wss
                          // {"data":{"token":"639bba3ff80c75e545d336c5bc1118a5"},"cmd":"ws:login"}
                          // {"data":{"msg":"3523532532525","to_user_id":1},"cmd":"ws:sendChatMsg"}
                          uni.sendSocketMessage({
                          data:JSON.stringify({
                          data:{
                          token:__that.$store.state.theToken
                          },
                          cmd:'ws:login'
                          }),
                          success: (res) => {
                          console.log('登录WSS',res);
                          }
                          })
                          						// 心跳包
                          var inter = setInterval(function(){
                          uni.sendSocketMessage({
                          data:JSON.stringify({
                          data:'ping',
                          cmd:'ws:ping'
                          }),
                          success: (res) => {
                          console.log('心跳包',res);
                          }
                          })
                          },30000)
                          						console.log('onSocketMessage我监听到了',res);
                          // 发送消息
                          // uni.sendSocketMessage({
                          // 	data:JSON.stringify({
                          // 		data:{
                          // 			to_user_id:5
                          // 			msg:'我是发送的消息！！！！！'
                          // 		},
                          // 		cmd:'ws:sendChatMsg'
                          // 	})
                          // })
                          						});
                          // 监听关闭
                          uni.onSocketClose(function (res) {
                          console.log('WebSocket 已关闭！');
                          });
                          // 监听消息
                          uni.onSocketMessage(function (res) {
                          console.log('收到服务器内容：' + JSON.parse(res.data));
                          // __that.animtionAction();
                          if(JSON.parse(res.data).cmd == 'ws:sendChatMsg'){
                          console.log('我解析成功啦啦啦啦！！！');
                          __that.$store.dispatch('animtionAction',{
                          animtionAction:__that.$refs.theMessage.animtionAction()
                          });
                          }
                          });
                          */

                          // 重置
                          __that.theGetMomentsListPage = 1;
                          // 获取省市数据
                          __that.getMomentsList(getType);
                          __that.tempAddressTitle = __that.$store.state.store_addressNow.title;
                          __that.tempSchoolTitle = __that.$store.state.store_schoolNow.title;
                        case 6:
                        case "end":
                          return _context8.stop();
                      }
                    }
                  }, _callee8);
                }))();
                // uni.showModal({
                // 	title: '温馨提示：',
                // 	content: '当前登录身份已过期，点击“重新登录”继续吧~',
                // 	confirmText: '重新登录',
                // 	confirmColor: '#f89f12',
                // 	showCancel: false,
                // 	success: function(res) {
                // 		if (res.confirm) {
                // 			let __that = _that;
                // 			// 异步转同步，
                // 			(async function() {
                // 				// 登录
                // 				await __that.$store.dispatch('toLogon', {});

                // 				// 重置
                // 				__that.theGetMomentsListPage = 1;
                // 				// 获取省市数据
                // 				__that.getMomentsList();
                // 			})()
                // 		}
                // 	}
                // });
              } else {
                uni.showToast({
                  title: res.data.msg,
                  duration: 2500,
                  icon: "none"
                });
              }
            },
            fail: function fail(res) {
              uni.showToast({
                title: "网络失败，请重试！多次无效后，反馈官方客服哦！",
                duration: 2500,
                icon: "none"
              });
            }
          });
        }
      });
    },
    // 搜索
    searchPost: function searchPost() {
      // 点搜索的话，应该需要重置一下数据
      // 重置后，接下去的触底加载应该是延用一样的逻辑，只是当前的搜索字段没有重置，一直保留
      // this.school_datas = [];
      // // 注意：搜索的话，默认把这个页码重置为1就行了，因为之后就是启用触底加载了
      // this.theGetMomentsListPage = 1;
      // this.getMomentsList();
      uni.navigateTo({
        url: "/page_product/pages/search/schoolSearch"
      });
    },
    // 点赞
    // 说明：点赞的接口放在index.js公共store中
    toThumb: function () {
      var _toThumb = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9(option) {
        var temp_is_thumb, i;
        return _regenerator.default.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                // 这里之所以又加了一层，是为了拿到子组件传过来的option
                // 这是保存一下当前本人的点赞状态，用于判断最后本地是增加还是减少点赞数的
                temp_is_thumb = option.is_thumb;
                _context9.next = 3;
                return this.$store.dispatch("toThumb", {
                  id: option.id,
                  is_thumb: option.is_thumb
                });
              case 3:
                // console.log('this.$store.state.is_thumb_true ',this.$store.state.is_thumb_true );
                if (this.$store.state.is_thumb_true == true) {
                  for (i = 0; i < this.school_datas.length; i++) {
                    if (option.id == this.school_datas[i].id) {
                      if (temp_is_thumb == 2) {
                        // 使用$set响应的改变对象数据，第一个参数是对象本身，第二个参数是属性（记得加引号），第三个是改变后的值
                        this.$set(this.school_datas[i], "thumb_num", this.school_datas[i].thumb_num + 1);
                        this.$set(this.school_datas[i], "is_thumb", 1);
                        uni.showToast({
                          title: "点赞成功",
                          duration: 1000,
                          icon: "none"
                        });
                      } else {
                        this.$set(this.school_datas[i], "thumb_num", this.school_datas[i].thumb_num - 1);
                        this.$set(this.school_datas[i], "is_thumb", 2);
                        uni.showToast({
                          title: "已取消点赞",
                          duration: 1000,
                          icon: "none"
                        });
                      }
                    }
                  }
                }
              case 4:
              case "end":
                return _context9.stop();
            }
          }
        }, _callee9, this);
      }));
      function toThumb(_x6) {
        return _toThumb.apply(this, arguments);
      }
      return toThumb;
    }(),
    //打开三个点的操作
    actionMore: function actionMore(option) {
      var _this7 = this;
      var that = this;
      var temp_is_collection = option.is_collection;
      var itemList = [option.is_collection == 2 ? "收藏" : "取消收藏", option.is_regard == 1 ? "取消关注" : "关注TA", "不看此类话题"];
      if (this.$store.state.theLogonUser.id == option.create_id) {
        itemList.splice(1, 1);
      }
      uni.showActionSheet({
        itemList: itemList,
        itemColor: "#333333",
        success: function success(res) {
          // console.log(res.tapIndex);
          if (["收藏", "取消收藏"].includes(itemList[res.tapIndex])) {
            var _that = that;
            (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10() {
              var i;
              return _regenerator.default.wrap(function _callee10$(_context10) {
                while (1) {
                  switch (_context10.prev = _context10.next) {
                    case 0:
                      _context10.next = 2;
                      return _that.$store.dispatch("toCollection", {
                        id: option.id
                      });
                    case 2:
                      if (_that.$store.state.is_collection_true == true) {
                        // 表示调用接口成功
                        for (i = 0; i < _that.school_datas.length; i++) {
                          if (option.id == _that.school_datas[i].id) {
                            if (temp_is_collection == 2) {
                              // 使用$set响应的改变对象数据，第一个参数是对象本身，第二个参数是属性（记得加引号），第三个是改变后的值
                              _that.$set(_that.school_datas[i], "is_collection", 1);
                              uni.showToast({
                                title: "收藏成功",
                                duration: 1000,
                                icon: "none"
                              });
                            } else {
                              _that.$set(_that.school_datas[i], "is_collection", 2);
                              uni.showToast({
                                title: "已取消收藏",
                                duration: 1000,
                                icon: "none"
                              });
                            }
                          }
                        }
                      }
                    case 3:
                    case "end":
                      return _context10.stop();
                  }
                }
              }, _callee10);
            }))();
          } else if (["取消关注", "关注TA"].includes(itemList[res.tapIndex])) {
            _this7.followHandle(option);
          } else if (["不看此类话题"].includes(itemList[res.tapIndex])) {
            _this7.ignoreType(option);
          }
        },
        fail: function fail(res) {
          // console.log(res.errMsg);
        }
      });
    },
    // 忽略话题
    ignoreType: function ignoreType(option) {
      var _this8 = this;
      this.API.home.addDelMyIgnoreType({
        ignore_type: option.type,
        type: 1
      }).then(function (res) {
        console.log(res.data);
        _this8.choiseOneTitle(0);
        uni.showToast({
          title: "操作成功",
          duration: 1000,
          icon: "none"
        });
      }).catch( /*#__PURE__*/function () {
        var _ref10 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee11(err) {
          return _regenerator.default.wrap(function _callee11$(_context11) {
            while (1) {
              switch (_context11.prev = _context11.next) {
                case 0:
                  if (!(err.code == 410)) {
                    _context11.next = 4;
                    break;
                  }
                  _context11.next = 3;
                  return _this8.$store.dispatch("toLogon", {});
                case 3:
                  _this8.ignoreType(option);
                case 4:
                case "end":
                  return _context11.stop();
              }
            }
          }, _callee11);
        }));
        return function (_x7) {
          return _ref10.apply(this, arguments);
        };
      }());
    },
    // 关注
    followHandle: function followHandle(option) {
      var _this9 = this;
      this.API.order.regard({
        to_user_id: option.create_id
      }).then(function (res) {
        console.log(res.data);
        _this9.$set(_this9.school_datas[option.index], "is_regard", option.is_regard == 1 ? 2 : 1);
        uni.showToast({
          title: option.is_regard == 1 ? "已取消关注" : "关注成功",
          duration: 1000,
          icon: "none"
        });
      }).catch( /*#__PURE__*/function () {
        var _ref11 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee12(err) {
          return _regenerator.default.wrap(function _callee12$(_context12) {
            while (1) {
              switch (_context12.prev = _context12.next) {
                case 0:
                  if (!(err.code == 410)) {
                    _context12.next = 4;
                    break;
                  }
                  _context12.next = 3;
                  return _this9.$store.dispatch("toLogon", {});
                case 3:
                  _this9.followHandle(option);
                case 4:
                case "end":
                  return _context12.stop();
              }
            }
          }, _callee12);
        }));
        return function (_x8) {
          return _ref11.apply(this, arguments);
        };
      }());
    },
    // 邀请/组队按钮
    zuduiButtons: function () {
      var _zuduiButtons = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee13(option) {
        var temp_is_entry, i;
        return _regenerator.default.wrap(function _callee13$(_context13) {
          while (1) {
            switch (_context13.prev = _context13.next) {
              case 0:
                if (!(option.type == 1)) {
                  _context13.next = 7;
                  break;
                }
                // 1表示是组队的按钮
                // 这是保存一下当前本人的加入状态，用于判断最后本地是显示加入还是退出
                temp_is_entry = option.is_entry;
                _context13.next = 4;
                return this.$store.dispatch("toEntry", {
                  id: option.id,
                  is_entry: option.is_entry
                });
              case 4:
                // console.log('this.$store.state.is_entry_true ',this.$store.state.is_entry_true );
                if (this.$store.state.is_entry_true == true) {
                  for (i = 0; i < this.school_datas.length; i++) {
                    if (option.id == this.school_datas[i].id) {
                      if (temp_is_entry == 2) {
                        // 使用$set响应的改变对象数据，第一个参数是对象本身，第二个参数是属性（记得加引号），第三个是改变后的值
                        this.$set(this.school_datas[i], "entry_num", this.school_datas[i].entry_num + 1);
                        this.$set(this.school_datas[i], "is_entry", 1);
                        uni.showToast({
                          title: "加入成功",
                          duration: 1000,
                          icon: "none"
                        });
                      } else {
                        this.$set(this.school_datas[i], "entry_num", this.school_datas[i].entry_num - 1);
                        this.$set(this.school_datas[i], "is_entry", 2);
                        uni.showToast({
                          title: "已退出组队",
                          duration: 1000,
                          icon: "none"
                        });
                      }
                    }
                  }
                }
                _context13.next = 8;
                break;
              case 7:
                this.inviteId = option;
              case 8:
              case "end":
                return _context13.stop();
            }
          }
        }, _callee13, this);
      }));
      function zuduiButtons(_x9) {
        return _zuduiButtons.apply(this, arguments);
      }
      return zuduiButtons;
    }()
  }
};
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 184:
/*!**********************************************************************************!*\
  !*** D:/ouying/o2_store/pages/index/index.vue?vue&type=style&index=0&lang=scss& ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss& */ 185);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 185:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/ouying/o2_store/pages/index/index.vue?vue&type=style&index=0&lang=scss& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[178,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map